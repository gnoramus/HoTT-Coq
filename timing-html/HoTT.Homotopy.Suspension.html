<html>
<head>
<title>Suspension.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Suspension.v</h1>

<div class="code" title="File: Suspension.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(* -*- mode: coq; mode: visual-line -*- *)</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 1
Time: 0.017s">
<div class="time" style="width: 5.8823529411765%"></div>
<pre>Require Import Basics.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 1
Time: 0.017s">
<div class="time" style="width: 5.8823529411765%"></div>
<pre>
Require Import Types.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 2
Time: 0.011s">
<div class="time" style="width: 3.8062283737024%"></div>
<pre>
Require Import Cubical.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 3
Time: 0.018s">
<div class="time" style="width: 6.2283737024221%"></div>
<pre>
Require Import WildCat.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 4
Time: 0.004s">
<div class="time" style="width: 1.3840830449827%"></div>
<pre>
Require Import Colimits.Pushout.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Require Import NullHomotopy.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 6
Time: 0.022s">
<div class="time" style="width: 7.6124567474048%"></div>
<pre>
Require Import Truncations.Core.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 7
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
Require Import Modalities.ReflectiveSubuniverse Modalities.Modality.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 8
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Require Import Extensions.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 9
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** * The suspension of a type *)

</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 12
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Generalizable Variables X A B f g n.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 12
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 14
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* ** Definition of suspension *)

(** We define the suspension of a type X as the pushout of 1 &lt;- X -&gt; 1 *)</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 18
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Susp (X : Type) := Pushout (@const X _ tt) (const tt).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 18
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Definition North {X} : Susp X := pushl tt.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 19
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Definition South {X} : Susp X := pushr tt.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 20
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
Definition merid {X} (x : X) : North = South := pglue x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 21
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** We think of this as the HIT with two points [North] and [South] and a path [merid] between them *)

(** We can derive an induction principle for the suspension *)</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 25
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>Definition Susp_ind {X : Type} (P : Susp X -&gt; Type)
  (H_N : P North) (H_S : P South)
  (H_merid : forall x:X, (merid x) # H_N = H_S)
  : forall (y : Susp X), P y.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 28
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 29
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>
  srapply Pushout_ind.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 30
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 31
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (Unit_ind H_N).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 31
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (Unit_ind H_S).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 33
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (H_merid).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 33
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 34
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Here is an alternative induction principle using DPath's instead of transports *)</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 36
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>Definition Susp_ind_dp {X : Type} (P : Susp X -&gt; Type)
  (H_N : P North) (H_S : P South)
  (H_merid : forall x:X, DPath P (merid x) H_N H_S)
  : forall (y : Susp X), P y.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 39
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 40
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
  srapply Susp_ind.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 41
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 42
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact H_N.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 42
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact H_S.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 44
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 44
Time: 0.005s">
<div class="time" style="width: 1.7301038062284%"></div>
<pre>
    apply dp_path_transport^-1.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 45
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact (H_merid x).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 47
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** We can also derive the computation rule *)</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 49
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>Definition Susp_ind_beta_merid {X : Type}
  (P : Susp X -&gt; Type) (H_N : P North) (H_S : P South)
  (H_merid : forall x:X, (merid x) # H_N = H_S) (x : X)
  : apD (Susp_ind P H_N H_S H_merid) (merid x) = H_merid x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 52
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 53
Time: 0.003s">
<div class="time" style="width: 1.038062283737%"></div>
<pre>
  srapply Pushout_ind_beta_pglue.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 54
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 55
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** And similarly for the DPath version *)</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 57
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>Definition Susp_ind_dp_beta_merid {X : Type}
  (P : Susp X -&gt; Type) (H_N : P North) (H_S : P South)
  (H_merid : forall x:X, DPath P (merid x) H_N H_S) (x : X)
  : dp_apD (Susp_ind_dp P H_N H_S H_merid) (merid x) = H_merid x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 60
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 61
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
  apply dp_apD_path_transport.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 62
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>
  srapply Susp_ind_beta_merid.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 63
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 64
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** We want to allow the user to forget that we've defined suspension as a pushout and make it look like it was defined directly as a HIT. This has the advantage of not having to assume any new HITs but allowing us to have conceptual clarity. *)</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 66
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Arguments Susp : simpl never.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 66
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments North : simpl never.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 67
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments South : simpl never.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 68
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments merid : simpl never.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 69
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments Susp_ind_beta_merid : simpl never.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 70
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* ** Non-dependent eliminator. *)

</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 73
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Susp_rec {X Y : Type}
  (H_N H_S : Y) (H_merid : X -&gt; H_N = H_S)
: Susp X -&gt; Y.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 76
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (Susp_ind (fun _ =&gt; Y) H_N H_S).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 77
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 78
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (transport_const _ _ @ H_merid x).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 78
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 79
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Global Arguments Susp_rec {X Y}%type_scope H_N H_S H_merid%function_scope _.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 81
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition Susp_rec_beta_merid {X Y : Type}
  {H_N H_S : Y} {H_merid : X -&gt; H_N = H_S} (x:X)
: ap (Susp_rec H_N H_S H_merid) (merid x) = H_merid x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 85
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 86
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
  apply (cancelL (transport_const (merid x) H_N)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 87
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>
  transitivity (apD (Susp_rec H_N H_S H_merid) (merid x)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 88
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 89
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre> symmetry; refine (apD_const (Susp_rec H_N H_S H_merid) _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 89
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 90
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre> refine (Susp_ind_beta_merid (fun _ : Susp X =&gt; Y) _ _ _ _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 90
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 91
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Eta-rule. *)

(** The eta-rule for suspension states that any function out of a suspension is equal to one defined by [Susp_ind] in the obvious way. We give it first in a weak form, producing just a pointwise equality, and then turn this into an actual equality using [Funext]. *)</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 95
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>Definition Susp_eta_homot {X : Type} {P : Susp X -&gt; Type} (f : forall y, P y)
  : f == Susp_ind P (f North) (f South) (fun x =&gt; apD f (merid x)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 96
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 97
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unfold pointwise_paths.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 98
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> refine (Susp_ind _ 1 1 _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 98
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 99
Time: 0.003s">
<div class="time" style="width: 1.038062283737%"></div>
<pre>
  refine (transport_paths_FlFr_D
    (g := Susp_ind P (f North) (f South) (fun x : X =&gt; apD f (merid x)))
    _ _ @ _); simpl.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 102
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply moveR_pM.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 103
Time: 0.003s">
<div class="time" style="width: 1.038062283737%"></div>
<pre> apply (concat (concat_p1 _)), (concatR (concat_1p _)^).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 103
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply ap, inverse.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 104
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> refine (Susp_ind_beta_merid _ _ _ _ _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 104
Time: 0.011s">
<div class="time" style="width: 3.8062283737024%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 105
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>

Definition Susp_eta_homot_dp {X : Type} {P : Susp X -&gt; Type} (f : forall y, P y)
  : f == Susp_ind_dp P (f North) (f South) (fun x =&gt; dp_apD f (merid x)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 108
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 109
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unfold pointwise_paths.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 110
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> refine (Susp_ind_dp _ 1 1 _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 110
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 111
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>
  apply dp_paths_FlFr_D.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 112
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  cbn.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 113
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (concat_pp_p _ _ _ @ _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 114
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply moveR_Vp.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 115
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
  refine (concat_1p _ @ _ @ (concat_p1 _)^).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 116
Time: 0.007s">
<div class="time" style="width: 2.4221453287197%"></div>
<pre>
  apply (equiv_inj dp_path_transport).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 117
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (dp_path_transport_apD _ _ @ _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 118
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre> 
  refine (_ @ (dp_path_transport_apD f (merid x))^).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 119
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>
  srapply Susp_ind_dp_beta_merid.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 120
Time: 0.02s">
<div class="time" style="width: 6.9204152249135%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 121
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>

Definition Susp_rec_eta_homot {X Y : Type} (f : Susp X -&gt; Y)
: f == Susp_rec (f North) (f South) (fun x =&gt; ap f (merid x)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 124
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 125
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (Susp_ind _ 1 1 _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 127
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine ((transport_paths_FlFr _ _) @ _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 128
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre> apply moveR_Mp.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 128
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine ((Susp_rec_beta_merid _) @ _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 129
Time: 0.144s">
<div class="time" style="width: 49.826989619377%"></div>
<pre> hott_simpl.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 129
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_ @ (ap_V f _)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 130
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> f_ap.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 130
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (inv_V _)^.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 131
Time: 0.007s">
<div class="time" style="width: 2.4221453287197%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 132
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>

Definition Susp_eta `{Funext}
  {X : Type} {P : Susp X -&gt; Type} (f : forall y, P y)
  : f = Susp_ind P (f North) (f South) (fun x =&gt; apD f (merid x))
:= path_forall _ _ (Susp_eta_homot f).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 137
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>

Definition Susp_rec_eta `{Funext} {X Y : Type} (f : Susp X -&gt; Y)
  : f = Susp_rec (f North) (f South) (fun x =&gt; ap f (merid x))
:= path_forall _ _ (Susp_rec_eta_homot f).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 141
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Functoriality *)

</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 144
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition functor_susp {X Y : Type} (f : X -&gt; Y)
  : Susp X -&gt; Susp Y.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 145
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 146
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
  srapply Susp_rec.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 147
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 148
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact North.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 148
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 149
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact South.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 149
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 150
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros x; exact (merid (f x)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 150
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 151
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>

Definition ap_functor_susp_merid {X Y : Type} (f : X -&gt; Y) (x : X)
  : ap (functor_susp f) (merid x) = merid (f x).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 154
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 155
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srapply Susp_rec_beta_merid.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 156
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 157
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Universal property *)

</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 160
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition equiv_Susp_rec `{Funext} (X Y : Type)
: (Susp X -&gt; Y) &lt;~&gt; { NS : Y * Y &amp; X -&gt; fst NS = snd NS }.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 161
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 162
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unshelve econstructor.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 163
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  {</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 164
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros f.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 164
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists (f North , f South).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 165
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 166
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (ap f (merid x)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 166
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 166
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  simple refine (isequiv_adjointify _ _ _ _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 167
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 168
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros [[N S] m].</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 168
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact (Susp_rec N S m).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 169
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 170
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre> intros [[N S] m].</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 170
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
    apply ap, path_arrow.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 171
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros x; apply Susp_rec_beta_merid.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 171
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 172
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros f.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 172
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
    symmetry.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 173
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (Susp_eta f @ _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 174
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold Susp_rec; apply ap.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 175
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply path_forall; intros x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 176
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply apD_const.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 177
Time: 0.004s">
<div class="time" style="width: 1.3840830449827%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 178
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Using wild 0-groupoids, the universal property can be proven without funext.  A simple equivalence of 0-groupoids between [Susp X -&gt; Y] and [{ NS : Y * Y &amp; X -&gt; fst NS = snd NS }] would not carry all the higher-dimensional information, but if we generalize it to dependent functions, then it does suffice. *)</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 180
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section UnivProp.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 180
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Context (X : Type) (P : Susp X -&gt; Type).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 181
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Here is the domain of the equivalence: sections of [P] over [Susp X]. *)
 </pre>
</div>
<div class="code" title="File: Suspension.v
Line: 184
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Susp_ind_type := forall z:Susp X, P z.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 184
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Instance isgraph_Susp_ind_type : IsGraph Susp_ind_type.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 186
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 187
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply isgraph_forall; intros; apply isgraph_paths.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 187
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 187
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Instance is01cat_Susp_ind_type : Is01Cat Susp_ind_type.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 189
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 190
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply is01cat_forall; intros; apply is01cat_paths.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 190
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 190
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Instance is0gpd_Susp_ind_type : Is0Gpd Susp_ind_type.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 192
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 193
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply is0gpd_forall; intros; apply is0gpd_paths.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 193
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 193
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** The codomain is a sigma-groupoid of this family, consisting of input data for [Susp_ind]. *)
 </pre>
</div>
<div class="code" title="File: Suspension.v
Line: 196
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Susp_ind_data' (NS : P North * P South)
    := forall x:X, DPath P (merid x) (fst NS) (snd NS).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 197
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Instance isgraph_Susp_ind_data' NS : IsGraph (Susp_ind_data' NS).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 199
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 200
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply isgraph_forall; intros; apply isgraph_paths.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 200
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 200
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Instance is01cat_Susp_ind_data' NS : Is01Cat (Susp_ind_data' NS).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 202
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 203
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply is01cat_forall; intros; apply is01cat_paths.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 203
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 203
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Instance is0gpd_Susp_ind_data' NS : Is0Gpd (Susp_ind_data' NS).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 205
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 206
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply is0gpd_forall; intros; apply is0gpd_paths.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 206
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 206
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Here is the codomain itself. *)
 </pre>
</div>
<div class="code" title="File: Suspension.v
Line: 209
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Susp_ind_data := sig Susp_ind_data'.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 209
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>

  Local Instance is01cat_Susp_ind_data : Is01Cat Susp_ind_data.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 211
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 212
Time: 0.004s">
<div class="time" style="width: 1.3840830449827%"></div>
<pre> rapply is01cat_sigma.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 212
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 212
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>

  Local Instance is0gpd_Susp_ind_data : Is0Gpd Susp_ind_data.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 214
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 215
Time: 0.008s">
<div class="time" style="width: 2.7681660899654%"></div>
<pre> rapply is0gpd_sigma.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 215
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 215
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Here is the functor. *)
 </pre>
</div>
<div class="code" title="File: Suspension.v
Line: 218
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Susp_ind_inv : Susp_ind_type -&gt; Susp_ind_data.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 218
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 219
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros f.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 220
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists (f North,f South).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 221
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 222
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact (dp_apD f (merid x)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 223
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 224
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>

  Local Instance is0functor_susp_ind_inv : Is0Functor Susp_ind_inv.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 226
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 227
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    constructor; unfold Susp_ind_type; cbn.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 228
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros f g p.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 229
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unshelve econstructor.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 230
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 231
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply path_prod; apply p.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 231
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 232
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 232
Time: 0.013s">
<div class="time" style="width: 4.4982698961938%"></div>
<pre>
      rewrite transport_path_prod, !transport_forall_constant; cbn.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 233
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
      apply ds_transport_dpath.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 234
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exact (dp_apD_nat p (merid x)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 235
Time: 0.007s">
<div class="time" style="width: 2.4221453287197%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 236
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** And now we can prove that it's an equivalence. *)
 </pre>
</div>
<div class="code" title="File: Suspension.v
Line: 239
Time: 0.003s">
<div class="time" style="width: 1.038062283737%"></div>
<pre>Definition equiv0gpd_Susp_ind_inv : IsEquiv0Gpd Susp_ind_inv.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 239
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 240
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    constructor.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 241
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 242
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre> intros [[n s] g].</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 242
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exists (Susp_ind_dp P n s g); cbn.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 243
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exists idpath.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 244
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intros x; cbn.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 245
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply Susp_ind_dp_beta_merid.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 246
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 247
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre> intros f g [p q]; cbn in *.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 247
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
      srapply Susp_ind_dp; cbn.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 248
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      1: exact (ap fst p).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 249
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      1: exact (ap snd p).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 250
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intros x; specialize (q x).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 251
Time: 0.019s">
<div class="time" style="width: 6.5743944636678%"></div>
<pre>
      apply ds_dp.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 252
Time: 0.006s">
<div class="time" style="width: 2.076124567474%"></div>
<pre>
      apply ds_transport_dpath.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 253
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>
      rewrite transport_forall_constant in q.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 254
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>
      rewrite &lt;- (eta_path_prod p) in q.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 255
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>
      rewrite transport_path_prod in q.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 256
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exact q.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 257
Time: 0.014s">
<div class="time" style="width: 4.8442906574394%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 258
Time: 0.018s">
<div class="time" style="width: 6.2283737024221%"></div>
<pre>

End UnivProp.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 260
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The full non-funext version of the universal property should be formulated with respect to a notion of "wild hom-oo-groupoid", which we don't currently have.  However, we can deduce statements about full higher universal properties that we do have, for instance the statement that a type is local for [functor_susp f] -- expressed in terms of [ooExtendableAlong] -- if and only if all its identity types are local for [f].  (We will use this in [Modalities.Localization] for separated subuniverses.)  To prove this, we again generalize it to the case of dependent types, starting with naturality of the above 0-dimensional universal property. *)

</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 263
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section UnivPropNat.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 263
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (** We will show that [Susp_ind_inv] for [X] and [Y] commute with precomposition with [f] and [functor_susp f]. *)
 </pre>
</div>
<div class="code" title="File: Suspension.v
Line: 265
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Context {X Y : Type} (f : X -&gt; Y) (P : Susp Y -&gt; Type).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 265
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** We recall all those instances from the previous section. *)
 </pre>
</div>
<div class="code" title="File: Suspension.v
Line: 268
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>Local Existing Instances isgraph_Susp_ind_type is01cat_Susp_ind_type is0gpd_Susp_ind_type isgraph_Susp_ind_data' is01cat_Susp_ind_data' is0gpd_Susp_ind_data' is01cat_Susp_ind_data is0gpd_Susp_ind_data.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 268
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Here is an intermediate family of groupoids that we have to use, since precomposition with [f] doesn't land in quite the right place. *)
 </pre>
</div>
<div class="code" title="File: Suspension.v
Line: 271
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>Definition Susp_ind_data'' (NS : P North * P South)
    := forall x:X, DPath P (merid (f x)) (fst NS) (snd NS).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 272
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Instance isgraph_Susp_ind_data'' NS : IsGraph (Susp_ind_data'' NS).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 274
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 275
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply isgraph_forall; intros; apply isgraph_paths.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 275
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 275
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Instance is01cat_Susp_ind_data'' NS : Is01Cat (Susp_ind_data'' NS).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 277
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 278
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply is01cat_forall; intros; apply is01cat_paths.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 278
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 278
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Local Instance is0gpd_Susp_ind_data'' NS : Is0Gpd (Susp_ind_data'' NS).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 280
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 281
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply is0gpd_forall; intros; apply is0gpd_paths.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 281
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 281
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** We decompose "precomposition with [f]" into a functor_sigma of two fiberwise functors.  Here is the first. *)
 </pre>
</div>
<div class="code" title="File: Suspension.v
Line: 284
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition functor_Susp_ind_data'' (NS : P North * P South)
    : Susp_ind_data' Y P NS -&gt; Susp_ind_data'' NS
    := fun g x =&gt; g (f x).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 286
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>

  Local Instance is0functor_functor_Susp_ind_data'' NS
    : Is0Functor (functor_Susp_ind_data'' NS).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 289
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 290
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    constructor.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 291
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros g h p a.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 292
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact (p (f a)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 293
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 294
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** And here is the second.  This one is actually a fiberwise equivalence of types at each [x]. *)
 </pre>
</div>
<div class="code" title="File: Suspension.v
Line: 297
Time: 0.003s">
<div class="time" style="width: 1.038062283737%"></div>
<pre>Definition equiv_Susp_ind_data' (NS : P North * P South) (x : X)
    : DPath P (merid (f x)) (fst NS) (snd NS)
      &lt;~&gt; DPath (P o functor_susp f) (merid x) (fst NS) (snd NS).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 299
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 300
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    etransitivity.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 301
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 302
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply (equiv_transport (fun p =&gt; DPath P p (fst NS) (snd NS))).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 302
Time: 0.013s">
<div class="time" style="width: 4.4982698961938%"></div>
<pre>
      symmetry; apply ap_functor_susp_merid.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 303
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 304
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> symmetry.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 304
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre> 
      apply (dp_compose (functor_susp f) P (merid x)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 305
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 306
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>

  Definition functor_Susp_ind_data' (NS : P North * P South)
    : Susp_ind_data'' NS -&gt; Susp_ind_data' X (P o functor_susp f) NS.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 309
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 310
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    srapply (functor_forall idmap); intros x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 311
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>
    apply equiv_Susp_ind_data'.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 312
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 313
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>

  Local Instance is0functor_functor_Susp_ind_data' NS
    : Is0Functor (functor_Susp_ind_data' NS).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 316
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 317
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    constructor.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 318
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros g h q x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 319
Time: 0.004s">
<div class="time" style="width: 1.3840830449827%"></div>
<pre>
    cbn; apply ap, ap.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 320
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact (q x).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 321
Time: 0.005s">
<div class="time" style="width: 1.7301038062284%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 322
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** And therefore a fiberwise equivalence of 0-groupoids. *)
 </pre>
</div>
<div class="code" title="File: Suspension.v
Line: 325
Time: 0.005s">
<div class="time" style="width: 1.7301038062284%"></div>
<pre>Local Instance isequiv0gpd_functor_Susp_ind_data' NS
    : IsEquiv0Gpd (functor_Susp_ind_data' NS).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 326
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 327
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    constructor.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 328
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 329
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros g.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 329
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      unshelve econstructor.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 330
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      +</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 331
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 331
Time: 0.007s">
<div class="time" style="width: 2.4221453287197%"></div>
<pre>
        apply ((equiv_Susp_ind_data' NS x)^-1).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 332
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
        exact (g x).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 333
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      +</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 334
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 334
Time: 0.004s">
<div class="time" style="width: 1.3840830449827%"></div>
<pre>
        apply eisretr.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 335
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 336
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros g h p x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 336
Time: 0.007s">
<div class="time" style="width: 2.4221453287197%"></div>
<pre>
      apply (equiv_inj (equiv_Susp_ind_data' NS x)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 337
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exact (p x).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 338
Time: 0.004s">
<div class="time" style="width: 1.3840830449827%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 339
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Now we put them together. *)
 </pre>
</div>
<div class="code" title="File: Suspension.v
Line: 342
Time: 0.003s">
<div class="time" style="width: 1.038062283737%"></div>
<pre>Definition functor_Susp_ind_data
    : Susp_ind_data Y P -&gt; Susp_ind_data X (P o functor_susp f)
    := fun NSg =&gt; (NSg.1 ; (functor_Susp_ind_data' NSg.1 o
                             (functor_Susp_ind_data'' NSg.1)) NSg.2).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 345
Time: 0.007s">
<div class="time" style="width: 2.4221453287197%"></div>
<pre>

  Local Instance is0functor_functor_Susp_ind_data
    : Is0Functor functor_Susp_ind_data.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 348
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 349
Time: 0.02s">
<div class="time" style="width: 6.9204152249135%"></div>
<pre>
    refine (is0functor_sigma _ _
           (fun NS =&gt; functor_Susp_ind_data' NS o functor_Susp_ind_data'' NS)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 351
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 352
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Here is the "precomposition with [functor_susp f]" functor. *)
 </pre>
</div>
<div class="code" title="File: Suspension.v
Line: 355
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>Definition functor_Susp_ind_type
    : Susp_ind_type Y P -&gt; Susp_ind_type X (P o functor_susp f)
    := fun g =&gt; g o functor_susp f.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 357
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>

  Local Instance is0functor_functor_Susp_ind_type
    : Is0Functor functor_Susp_ind_type.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 360
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 361
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    constructor.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 362
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros g h p a.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 363
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact (p (functor_susp f a)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 364
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 365
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** And here is the desired naturality square. *)
 </pre>
</div>
<div class="code" title="File: Suspension.v
Line: 368
Time: 0.006s">
<div class="time" style="width: 2.076124567474%"></div>
<pre>Definition Susp_ind_inv_nat
    : (Susp_ind_inv X (P o functor_susp f)) o functor_Susp_ind_type
      $=&gt; functor_Susp_ind_data o (Susp_ind_inv Y P).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 370
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 371
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
    intros g; exists idpath; intros x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 372
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
    change (dp_apD (fun x0 : Susp X =&gt; g (functor_susp f x0)) (merid x) =
            (functor_Susp_ind_data (Susp_ind_inv Y P g)).2 x).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 374
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
    refine (dp_apD_compose (functor_susp f) P (merid x) g @ _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 375
Time: 0.003s">
<div class="time" style="width: 1.038062283737%"></div>
<pre>
    cbn; apply ap.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 376
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
    apply (moveL_transport_V (fun p =&gt; DPath P p (g North) (g South))).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 377
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
    exact (apD (dp_apD g) (ap_functor_susp_merid f x)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 378
Time: 0.008s">
<div class="time" style="width: 2.7681660899654%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 379
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** From this we can deduce a equivalence between extendability, which is definitionally equal to split essential surjectivity of a functor between forall 0-groupoids. *)
 </pre>
</div>
<div class="code" title="File: Suspension.v
Line: 382
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>Definition extension_iff_functor_susp
    : (forall g, ExtensionAlong (functor_susp f) P g)
      &lt;-&gt; (forall NS g, ExtensionAlong f (fun x =&gt; DPath P (merid x) (fst NS) (snd NS)) g).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 384
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 385
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    (** The proof is by chaining logical equivalences. *)
   </pre>
</div>
<div class="code" title="File: Suspension.v
Line: 387
Time: 0.005s">
<div class="time" style="width: 1.7301038062284%"></div>
<pre>transitivity (SplEssSurj functor_Susp_ind_type).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 387
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    {</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 388
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 388
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 388
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
    etransitivity.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 389
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    {</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 390
Time: 0.289s">
<div class="time" style="width: 100%"></div>
<pre> refine (isesssurj_iff_commsq Susp_ind_inv_nat); try exact _.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 390
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
      all:apply equiv0gpd_Susp_ind_inv.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 391
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 391
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
    etransitivity.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 392
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    {</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 393
Time: 0.003s">
<div class="time" style="width: 1.038062283737%"></div>
<pre> refine (isesssurj_iff_sigma _ _ 
                (fun NS =&gt; functor_Susp_ind_data' NS o functor_Susp_ind_data'' NS)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 394
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 394
Time: 0.003s">
<div class="time" style="width: 1.038062283737%"></div>
<pre>
    apply iff_functor_forall; intros [N S]; cbn.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 395
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
    etransitivity.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 396
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    {</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 397
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre> apply iffL_isesssurj; exact _.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 397
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 397
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
    reflexivity.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 398
Time: 0.011s">
<div class="time" style="width: 3.8062283737024%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 399
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** We have to close the section now because we have to generalize [extension_iff_functor_susp] over [P]. *)

</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 402
Time: 0.015s">
<div class="time" style="width: 5.1903114186851%"></div>
<pre>End UnivPropNat.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 402
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Now we can iterate, deducing [n]-extendability. *)</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 404
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>Definition extendable_iff_functor_susp
           {X Y : Type} (f : X -&gt; Y) (P : Susp Y -&gt; Type) (n : nat)
  : (ExtendableAlong n (functor_susp f) P)
    &lt;-&gt; (forall NS, ExtendableAlong n f (fun x =&gt; DPath P (merid x) (fst NS) (snd NS))).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 407
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 408
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  revert P.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 409
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre> induction n as [|n IHn]; intros P; [ split; intros; exact tt | ].</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 409
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  (** It would be nice to be able to do this proof by chaining logcal equivalences too, especially since the two parts seem very similar.  But I haven't managed to make that work. *)
 </pre>
</div>
<div class="code" title="File: Suspension.v
Line: 411
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>split.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 411
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 412
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre> intros [e1 en] [N S]; split.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 412
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 413
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre> apply extension_iff_functor_susp.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 413
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      exact e1.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 414
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 415
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> cbn; intros h k.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 415
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      pose (h' := Susp_ind_dp P N S h).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 416
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      pose (k' := Susp_ind_dp P N S k).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 417
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      specialize (en h' k').</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 418
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
      assert (IH := fst (IHn _) en (1,1)); clear IHn en.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 419
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      cbn in IH.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 420
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      refine (extendable_postcompose' n _ _ f _ IH); clear IH.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 421
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intros y.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 422
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
      etransitivity.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 423
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      1: apply ds_dp.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 424
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
      etransitivity.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 425
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
      1: apply ds_transport_dpath.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 426
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      subst h' k'; cbn.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 427
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply equiv_concat_lr.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 428
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      *</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 429
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre> symmetry.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 429
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (Susp_ind_dp_beta_merid P N S h y).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 429
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      *</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 430
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (Susp_ind_dp_beta_merid P N S k y).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 430
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 431
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros e; split.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 431
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 432
Time: 0.005s">
<div class="time" style="width: 1.7301038062284%"></div>
<pre> apply extension_iff_functor_susp.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 432
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intros NS; exact (fst (e NS)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 433
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 434
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros h k.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 434
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
      apply (IHn _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 435
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intros [p q].</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 436
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      specialize (e (h North, k South)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 437
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
      cbn in *; apply snd in e.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 438
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      refine (extendable_postcompose' n _ _ f _ (e _ _)); intros y.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 439
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
      symmetry.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 440
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
      etransitivity.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 441
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      1: apply ds_dp.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 442
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
      etransitivity.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 443
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
      1: apply ds_transport_dpath.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 444
Time: 0.006s">
<div class="time" style="width: 2.076124567474%"></div>
<pre>
      etransitivity.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 445
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
      1: reflexivity.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 446
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
      symmetry.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 447
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
      apply (equiv_moveR_transport_p (fun y0 : P North =&gt; DPath P (merid y) y0 (k South))).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 448
Time: 0.019s">
<div class="time" style="width: 6.5743944636678%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 449
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** As usual, deducing oo-extendability is trivial. *)</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 451
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>Definition ooextendable_iff_functor_susp
           {X Y : Type} (f : X -&gt; Y) (P : Susp Y -&gt; Type)
  : (ooExtendableAlong (functor_susp f) P)
    &lt;-&gt; (forall NS, ooExtendableAlong f (fun x =&gt; DPath P (merid x) (fst NS) (snd NS))).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 454
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 455
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  split; intros e.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 456
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 457
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros NS n.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 457
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
    apply extendable_iff_functor_susp.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 458
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact (e n).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 459
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 460
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros n.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 460
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>
    apply extendable_iff_functor_susp.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 461
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros NS; exact (e NS n).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 462
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 463
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Nullhomotopies of maps out of suspensions *)

</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 466
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition nullhomot_susp_from_paths {X Z : Type} (f : Susp X -&gt; Z)
  (n : NullHomotopy (fun x =&gt; ap f (merid x)))
: NullHomotopy f.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 468
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 469
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exists (f North).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 470
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (Susp_ind _ 1 n.1^ _); intros x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 471
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (transport_paths_Fl _ _ @ _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 472
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (concat (concat_p1 _)), ap.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 473
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply n.2.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 473
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 474
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition nullhomot_paths_from_susp {X Z : Type} (H_N H_S : Z) (f : X -&gt; H_N = H_S)
  (n : NullHomotopy (Susp_rec H_N H_S f))
: NullHomotopy f.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 478
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 479
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
  exists (n.2 North @ (n.2 South)^).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 480
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 481
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply moveL_pV.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 481
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>
  transitivity (ap (Susp_rec H_N H_S f) (merid x) @ n.2 South).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 482
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 483
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre> apply whiskerR, inverse, Susp_rec_beta_merid.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 483
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 484
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre> refine (concat_Ap n.2 (merid x) @ _).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 484
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
    apply (concatR (concat_p1 _)), whiskerL.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 485
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply ap_const.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 485
Time: 0.003s">
<div class="time" style="width: 1.038062283737%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 486
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Contractibility of the suspension *)

</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 489
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance contr_susp (A : Type) `{Contr A}
  : Contr (Susp A).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 490
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 491
Time: 0.002s">
<div class="time" style="width: 0.69204152249135%"></div>
<pre>
  unfold Susp; exact _.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 492
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 493
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Connectedness of the suspension *)

</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 496
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance isconnected_susp {n : trunc_index} {X : Type}
  `{H : IsConnected n X} : IsConnected n.+1 (Susp X).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 497
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 498
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply isconnected_from_elim.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 499
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros C H' f.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 500
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exists (f North).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 500
Time: 0.003s">
<div class="time" style="width: 1.038062283737%"></div>
<pre>
  assert ({ p0 : f North = f South &amp; forall x:X, ap f (merid x) = p0 })
    as [p0 allpath_p0] by (apply (isconnected_elim n); rapply H').</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 502
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (Susp_ind (fun a =&gt; f a = f North) 1 p0^).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 503
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros x.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 504
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (concat (transport_paths_Fl _ _)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 505
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply (concat (concat_p1 _)).</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 506
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply ap, allpath_p0.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 507
Time: 0.001s">
<div class="time" style="width: 0.34602076124567%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Suspension.v
Line: 509
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

