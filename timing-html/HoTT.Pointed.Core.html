<html>
<head>
<title>Core.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Core.v</h1>

<div class="code" title="File: Core.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(* -*- mode: coq; mode: visual-line -*- *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 1
Time: 0.042s">
<div class="time" style="width: 25%"></div>
<pre>Require Import Basics Types.</pre>
</div>
<div class="code" title="File: Core.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Require Import PathAny.</pre>
</div>
<div class="code" title="File: Core.v
Line: 2
Time: 0.018s">
<div class="time" style="width: 10.714285714286%"></div>
<pre>
Require Import WildCat.</pre>
</div>
<div class="code" title="File: Core.v
Line: 3
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Declare Scope pointed_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Open Scope pointed_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 7
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 8
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Generalizable Variables A B f.</pre>
</div>
<div class="code" title="File: Core.v
Line: 10
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Pointed Types *)

(** The unit type is pointed *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 14
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance ispointed_unit : IsPointed Unit := tt.</pre>
</div>
<div class="code" title="File: Core.v
Line: 14
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The Unit pType *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 16
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition pUnit : pType := (Build_pType Unit _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 16
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** A sigma type of pointed components is pointed. *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 18
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Global Instance ispointed_sigma `{IsPointed A} `{IsPointed (B (point A))}
: IsPointed (sig B)
  := (point A; point (B (point A))).</pre>
</div>
<div class="code" title="File: Core.v
Line: 20
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** A product of pointed types is pointed. *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 22
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Global Instance ispointed_prod `{IsPointed A, IsPointed B} : IsPointed (A * B)
  := (point A, point B).</pre>
</div>
<div class="code" title="File: Core.v
Line: 23
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** We override the notation for products in pointed_scope *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 25
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Notation "X * Y" := (Build_pType (X * Y) ispointed_prod) : pointed_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 25
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** A pointed type family consists of a type family over a pointed type and a section of that family at the basepoint. *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 27
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition pFam (A : pType) := {P : A -&gt; Type &amp; P (point A)}.</pre>
</div>
<div class="code" title="File: Core.v
Line: 27
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** We make the first projection of a [pFam] a coercion. *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 29
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition pfam_pr1 {A : pType} (P : pFam A) : A -&gt; Type := pr1 P.</pre>
</div>
<div class="code" title="File: Core.v
Line: 29
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Coercion pfam_pr1 : pFam &gt;-&gt; Funclass.</pre>
</div>
<div class="code" title="File: Core.v
Line: 30
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** We call the section of a pointed type family at the basepoint a [dpoint]. *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition dpoint {A : pType} (P : pFam A) : P (point A) := pr2 P.</pre>
</div>
<div class="code" title="File: Core.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The constant pointed family *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 34
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Definition pfam_const {A : pType} (B : pType) : pFam A :=
  (fun _ =&gt; pointed_type B; point B).</pre>
</div>
<div class="code" title="File: Core.v
Line: 35
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** [IsTrunc] for a pointed type family *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 37
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Class IsTrunc_pFam n {A} (X : pFam A)
  := trunc_pfam_is_trunc : forall x, IsTrunc n (X.1 x).</pre>
</div>
<div class="code" title="File: Core.v
Line: 38
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Pointed dependent functions *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 40
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>Record pForall (A : pType) (P : pFam A) := {
  pointed_fun : forall x, P x ;
  dpoint_eq : pointed_fun (point A) = dpoint P ;
}.</pre>
</div>
<div class="code" title="File: Core.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Arguments dpoint_eq {A P} f : rename.</pre>
</div>
<div class="code" title="File: Core.v
Line: 45
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments pointed_fun {A P} f : rename.</pre>
</div>
<div class="code" title="File: Core.v
Line: 46
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Coercion pointed_fun : pForall &gt;-&gt; Funclass.</pre>
</div>
<div class="code" title="File: Core.v
Line: 47
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>


(** ** Pointed functions *)

(** A pointed map is a map with a proof that it preserves the point. We define it as as a notion for a non-dependent version of [pForall]. *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 52
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Notation "A -&gt;* B" := (pForall A (pfam_const B)) : pointed_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 52
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>

Definition Build_pMap (A B : pType) (f : A -&gt; B) (p : f (point A) = point B)
  : A -&gt;* B
  := Build_pForall A (pfam_const B) f p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 56
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Pointed maps perserve the base point *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 58
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Definition point_eq {A B : pType} (f : A -&gt;* B)
  : f (point A) = point B
  := dpoint_eq f.</pre>
</div>
<div class="code" title="File: Core.v
Line: 60
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The identity pointed map *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 62
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition pmap_idmap {A : pType} : A -&gt;* A
  := Build_pMap A A idmap 1.</pre>
</div>
<div class="code" title="File: Core.v
Line: 63
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Composition of pointed maps *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 65
Time: 0.003s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>Definition pmap_compose {A B C : pType} (g : B -&gt;* C) (f : A -&gt;* B)
  : A -&gt;* C
  := Build_pMap A C (g o f) (ap g (point_eq f) @ point_eq g).</pre>
</div>
<div class="code" title="File: Core.v
Line: 67
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Infix "o*" := pmap_compose : pointed_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 69
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Pointed homotopies *)

</pre>
</div>
<div class="code" title="File: Core.v
Line: 72
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Definition pfam_phomotopy {A : pType} {P : pFam A} (f g : pForall A P) : pFam A
  := (fun x =&gt; f x = g x; dpoint_eq f @ (dpoint_eq g)^).</pre>
</div>
<div class="code" title="File: Core.v
Line: 73
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* A pointed homotopy is a homotopy with a proof that the presevation paths agree. We define it instead as a special case of a [pForall]. This means that we can define pointed homotopies between pointed homotopies. *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition pHomotopy {A : pType} {P : pFam A} (f g : pForall A P) : Type
  := pForall A (pfam_phomotopy f g).</pre>
</div>
<div class="code" title="File: Core.v
Line: 76
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Infix "==*" := pHomotopy : pointed_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 78
Time: 0.003s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>

Definition Build_pHomotopy {A : pType} {P : pFam A} {f g : pForall A P}
  (p : f == g) (q : p (point A) = dpoint_eq f @ (dpoint_eq g)^)
  : f ==* g
  := Build_pForall A (pfam_phomotopy f g) p q.</pre>
</div>
<div class="code" title="File: Core.v
Line: 83
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The underlying homotopy of a pointed homotopy *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 85
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Coercion pointed_htpy {A : pType} {P : pFam A} {f g : pForall A P} (h : f ==* g)
  : f == g
  := h.</pre>
</div>
<div class="code" title="File: Core.v
Line: 87
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** This is the form that the underlying proof of a pointed homotopy used to take before we changed it to be defined in terms of pForall. *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 89
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Definition point_htpy {A : pType} {P : pFam A} {f g : pForall A P}
  (h : f ==* g) : h (point A) @ dpoint_eq g = dpoint_eq f.</pre>
</div>
<div class="code" title="File: Core.v
Line: 90
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 91
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply moveR_pM.</pre>
</div>
<div class="code" title="File: Core.v
Line: 92
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (dpoint_eq h).</pre>
</div>
<div class="code" title="File: Core.v
Line: 93
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 94
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Pointed equivalences *)

(* A pointed equivalence is a pointed map and a proof that it is
  an equivalence *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 99
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Record pEquiv (A B : pType) := {
  pointed_equiv_fun : pForall A (pfam_const B) ;
  pointed_isequiv : IsEquiv pointed_equiv_fun ;
}.</pre>
</div>
<div class="code" title="File: Core.v
Line: 102
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* TODO: It might be better behaved to define pEquiv as an equivalence and a proof that this equivalence is pointed. In pEquiv.v we have another constructor Build_pEquiv' which coq can infer faster than Build_pEquiv. *)

</pre>
</div>
<div class="code" title="File: Core.v
Line: 105
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Infix "&lt;~&gt;*" := pEquiv : pointed_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 105
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* Note: because we define pMap as a special case of pForall, we must declare
  all coercions into pForall, *not* into pMap. *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 108
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Coercion pointed_equiv_fun : pEquiv &gt;-&gt; pForall.</pre>
</div>
<div class="code" title="File: Core.v
Line: 108
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Global Existing Instance pointed_isequiv.</pre>
</div>
<div class="code" title="File: Core.v
Line: 109
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>

Coercion pointed_equiv_equiv {A B} (f : A &lt;~&gt;* B)
  : A &lt;~&gt; B := Build_Equiv A B f _.</pre>
</div>
<div class="code" title="File: Core.v
Line: 112
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Pointed sigma types *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 114
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition psigma {A : pType} (P : pFam A) : pType
  := Build_pType (sig P) (point A; P.2).</pre>
</div>
<div class="code" title="File: Core.v
Line: 115
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Pointed pi types, note that the domain is not pointed *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 117
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Definition pproduct {A : Type} (F : A -&gt; pType) : pType
  := Build_pType (forall (a : A), pointed_type (F a)) (ispointed_type o F).</pre>
</div>
<div class="code" title="File: Core.v
Line: 118
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The following tactics often allow us to "pretend" that pointed maps and homotopies preserve basepoints strictly. *)

(** First a version with no rewrites, which leaves some cleanup to be done but which can be used in transparent proofs. *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 122
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Ltac pointed_reduce :=
  (*TODO: are these correct? *)
  unfold pointed_fun, pointed_htpy;
  cbn in *;
  repeat match goal with
           | [ X : pType |- _ ] =&gt; destruct X as [X ?point]
           | [ P : pFam ?X |- _ ] =&gt; destruct P as [P ?]
           | [ phi : pForall ?X ?Y |- _ ] =&gt; destruct phi as [phi ?]
           | [ alpha : pHomotopy ?f ?g |- _ ] =&gt; let H := fresh in destruct alpha as [alpha H]; try (apply moveR_pM in H)
           | [ equiv : pEquiv ?X ?Y |- _ ] =&gt; destruct equiv as [equiv ?iseq]
         end;
  cbn in *; unfold point in *;
  path_induction; cbn.</pre>
</div>
<div class="code" title="File: Core.v
Line: 134
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Next a version that uses [rewrite], and should only be used in opaque proofs. *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 136
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Ltac pointed_reduce_rewrite :=
  pointed_reduce;
  rewrite ?concat_p1, ?concat_1p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 138
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Finally, a version that just strictifies a single map or equivalence.  This has the advantage that it leaves the context more readable. *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 140
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Ltac pointed_reduce_pmap f
  := try match type of f with
    | pEquiv ?X ?Y =&gt; destruct f as [f ?iseq]
    end;
    match type of f with
    | _ -&gt;* ?Y =&gt; destruct Y as [Y ?], f as [f p]; cbn in *; destruct p; cbn
    end.</pre>
</div>
<div class="code" title="File: Core.v
Line: 146
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Equivalences to sigma-types. *)

(** pType *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 150
Time: 0.007s">
<div class="time" style="width: 4.1666666666667%"></div>
<pre>Definition issig_ptype : { X : Type &amp; X } &lt;~&gt; pType := ltac:(issig).</pre>
</div>
<div class="code" title="File: Core.v
Line: 150
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** pForall *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 152
Time: 0.014s">
<div class="time" style="width: 8.3333333333333%"></div>
<pre>Definition issig_pforall (A : pType) (P : pFam A)
  : {f : forall x, P x &amp; f (point A) = dpoint P} &lt;~&gt; (pForall A P)
  := ltac:(issig).</pre>
</div>
<div class="code" title="File: Core.v
Line: 154
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** pMap *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 156
Time: 0.015s">
<div class="time" style="width: 8.9285714285714%"></div>
<pre>Definition issig_pmap (A B : pType)
  : {f : A -&gt; B &amp; f (point A) = point B} &lt;~&gt; (A -&gt;* B)
  := ltac:(issig).</pre>
</div>
<div class="code" title="File: Core.v
Line: 158
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** pHomotopy *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 160
Time: 0.032s">
<div class="time" style="width: 19.047619047619%"></div>
<pre>Definition issig_phomotopy {A : pType} {P : pFam A} (f g : pForall A P)
  : {p : f == g &amp; p (point A) = dpoint_eq f @ (dpoint_eq g)^} &lt;~&gt; (f ==* g)
  := ltac:(issig).</pre>
</div>
<div class="code" title="File: Core.v
Line: 162
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** pEquiv *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 164
Time: 0.013s">
<div class="time" style="width: 7.7380952380952%"></div>
<pre>Definition issig_pequiv (A B : pType)
  : {f : A -&gt;* B &amp; IsEquiv f} &lt;~&gt; (A &lt;~&gt;* B)
  := ltac:(issig).</pre>
</div>
<div class="code" title="File: Core.v
Line: 166
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The record for pointed equivalences is equivalently a different sigma type *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 168
Time: 0.038s">
<div class="time" style="width: 22.619047619048%"></div>
<pre>Definition issig_pequiv' (A B : pType)
  : {f : A &lt;~&gt; B &amp; f (point A) = point B} &lt;~&gt; (A &lt;~&gt;* B)
  := ltac:(make_equiv).</pre>
</div>
<div class="code" title="File: Core.v
Line: 170
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Various operations with pointed homotopies *)

(** [pHomotopy] is a reflexive relation *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 174
Time: 0.003s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>Global Instance phomotopy_reflexive {A : pType} {P : pFam A}
  : Reflexive (@pHomotopy A P)
  := fun X =&gt; Build_pHomotopy (fun x =&gt; 1) (concat_pV _)^.</pre>
</div>
<div class="code" title="File: Core.v
Line: 176
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** [pHomotopy] is a symmetric relation *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 178
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance phomotopy_symmetric {A B} : Symmetric (@pHomotopy A B).</pre>
</div>
<div class="code" title="File: Core.v
Line: 178
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 179
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros f g p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 180
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  snrefine (Build_pHomotopy _ _); cbn.</pre>
</div>
<div class="code" title="File: Core.v
Line: 181
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 182
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros x; exact ((p x)^).</pre>
</div>
<div class="code" title="File: Core.v
Line: 182
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 183
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> refine (inverse2 (dpoint_eq p) @ inv_pV _ _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 183
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 184
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Notation "p ^*" := (phomotopy_symmetric _ _ p) : pointed_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 186
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** [pHomotopy] is a transitive relation *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 188
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance phomotopy_transitive {A B} : Transitive (@pHomotopy A B).</pre>
</div>
<div class="code" title="File: Core.v
Line: 188
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 189
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros x y z p q.</pre>
</div>
<div class="code" title="File: Core.v
Line: 190
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  snrefine (Build_pHomotopy (fun x =&gt; p x @ q x) _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 191
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
  nrefine (dpoint_eq p @@ dpoint_eq q @ concat_pp_p _ _ _ @ _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 192
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
  nrapply whiskerL; nrapply concat_V_pp.</pre>
</div>
<div class="code" title="File: Core.v
Line: 193
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 194
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Notation "p @* q" := (phomotopy_transitive _ _ _ p q) : pointed_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 196
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Whiskering of pointed homotopies by pointed functions *)

</pre>
</div>
<div class="code" title="File: Core.v
Line: 199
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Definition pmap_postwhisker {A B C : pType} {f g : A -&gt;* B}
  (h : B -&gt;* C) (p : f ==* g)
  : h o* f ==* h o* g.</pre>
</div>
<div class="code" title="File: Core.v
Line: 201
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 202
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  snrefine (Build_pHomotopy _ _); cbn.</pre>
</div>
<div class="code" title="File: Core.v
Line: 203
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 204
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (fun x =&gt; ap h (p x)).</pre>
</div>
<div class="code" title="File: Core.v
Line: 204
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 205
Time: 0.003s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre> nrefine (ap _ (dpoint_eq p) @ ap_pp _ _ _ @ whiskerL _ (ap_V _ _) @ _^).</pre>
</div>
<div class="code" title="File: Core.v
Line: 205
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
    nrefine (whiskerL _ (inv_pp _ _) @ concat_pp_p _ _ _ @ _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 206
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact (whiskerL _ (concat_p_Vp _ _)).</pre>
</div>
<div class="code" title="File: Core.v
Line: 207
Time: 0.027s">
<div class="time" style="width: 16.071428571429%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 208
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>

Definition pmap_prewhisker {A B C : pType} (f : A -&gt;* B)
  {g h : B -&gt;* C} (p : g ==* h)
  : g o* f ==* h o* f.</pre>
</div>
<div class="code" title="File: Core.v
Line: 212
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 213
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  snrefine (Build_pHomotopy _ _); cbn.</pre>
</div>
<div class="code" title="File: Core.v
Line: 214
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 215
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (fun x =&gt; p (f x)).</pre>
</div>
<div class="code" title="File: Core.v
Line: 215
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 216
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply moveL_pV.</pre>
</div>
<div class="code" title="File: Core.v
Line: 216
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
    nrefine (concat_p_pp _ _ _ @ whiskerR (concat_Ap p (point_eq f))^ _ @ _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 217
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
    exact (concat_pp_p _ _ _ @ whiskerL _ (point_htpy p)).</pre>
</div>
<div class="code" title="File: Core.v
Line: 218
Time: 0.005s">
<div class="time" style="width: 2.9761904761905%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 219
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** 1-categorical properties of [pType]. *)

(** Composition of pointed maps is associative up to pointed homotopy *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 223
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Definition pmap_compose_assoc {A B C D : pType} (h : C -&gt;* D)
  (g : B -&gt;* C) (f : A -&gt;* B)
  : (h o* g) o* f ==* h o* (g o* f).</pre>
</div>
<div class="code" title="File: Core.v
Line: 225
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 226
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  snrapply Build_pHomotopy.</pre>
</div>
<div class="code" title="File: Core.v
Line: 227
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 228
Time: 0.005s">
<div class="time" style="width: 2.9761904761905%"></div>
<pre>
  pointed_reduce_pmap f.</pre>
</div>
<div class="code" title="File: Core.v
Line: 229
Time: 0.005s">
<div class="time" style="width: 2.9761904761905%"></div>
<pre>
  pointed_reduce_pmap g.</pre>
</div>
<div class="code" title="File: Core.v
Line: 230
Time: 0.004s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
  pointed_reduce_pmap h.</pre>
</div>
<div class="code" title="File: Core.v
Line: 231
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 232
Time: 0.012s">
<div class="time" style="width: 7.1428571428571%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 233
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** precomposition of identity pointed map *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 235
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition pmap_precompose_idmap {A B : pType} (f : A -&gt;* B)
: f o* pmap_idmap ==* f.</pre>
</div>
<div class="code" title="File: Core.v
Line: 236
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 237
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  snrapply Build_pHomotopy.</pre>
</div>
<div class="code" title="File: Core.v
Line: 238
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 239
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
  symmetry.</pre>
</div>
<div class="code" title="File: Core.v
Line: 240
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply concat_pp_V.</pre>
</div>
<div class="code" title="File: Core.v
Line: 241
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 242
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** postcomposition of identity pointed map *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 244
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition pmap_postcompose_idmap {A B : pType} (f : A -&gt;* B)
: pmap_idmap o* f ==* f.</pre>
</div>
<div class="code" title="File: Core.v
Line: 245
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 246
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  snrapply Build_pHomotopy.</pre>
</div>
<div class="code" title="File: Core.v
Line: 247
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 248
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  symmetry.</pre>
</div>
<div class="code" title="File: Core.v
Line: 249
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply moveR_pV.</pre>
</div>
<div class="code" title="File: Core.v
Line: 250
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  simpl.</pre>
</div>
<div class="code" title="File: Core.v
Line: 251
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (concat_p1 _ @ _ @ (concat_1p _)^).</pre>
</div>
<div class="code" title="File: Core.v
Line: 252
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  nrapply ap_idmap.</pre>
</div>
<div class="code" title="File: Core.v
Line: 253
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 254
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Funext for pointed types and direct consequences. *)

(** By funext pointed homotopies are equivalent to paths *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 258
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition equiv_path_pforall `{Funext} {A : pType}
  {P : pFam A} (f g : pForall A P)
  : (f ==* g) &lt;~&gt; (f = g).</pre>
</div>
<div class="code" title="File: Core.v
Line: 260
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 261
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_ oE (issig_phomotopy f g)^-1).</pre>
</div>
<div class="code" title="File: Core.v
Line: 262
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  revert f g; apply (equiv_path_issig_contr (issig_pforall A P)).</pre>
</div>
<div class="code" title="File: Core.v
Line: 263
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  {</pre>
</div>
<div class="code" title="File: Core.v
Line: 264
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> intros [f feq]; cbn.</pre>
</div>
<div class="code" title="File: Core.v
Line: 264
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists (fun a =&gt; 1%path).</pre>
</div>
<div class="code" title="File: Core.v
Line: 265
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact (concat_pV _)^.</pre>
</div>
<div class="code" title="File: Core.v
Line: 266
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: Core.v
Line: 266
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
  intros [f feq]; cbn.</pre>
</div>
<div class="code" title="File: Core.v
Line: 267
Time: 0.041s">
<div class="time" style="width: 24.404761904762%"></div>
<pre>
  contr_sigsig f (fun a:A =&gt; idpath (f a)); cbn.</pre>
</div>
<div class="code" title="File: Core.v
Line: 268
Time: 0.01s">
<div class="time" style="width: 5.952380952381%"></div>
<pre>
  refine (contr_equiv' {feq' : f (point A) = dpoint P &amp; feq = feq'} _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 269
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (equiv_functor_sigma' (equiv_idmap _) _); intros p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 270
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_^-1 oE equiv_path_inverse _ _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 271
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_moveR_1M.</pre>
</div>
<div class="code" title="File: Core.v
Line: 272
Time: 0.006s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 273
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition path_pforall `{Funext} {A : pType} {P : pFam A} {f g : pForall A P}
  : (f ==* g) -&gt; (f = g) := equiv_path_pforall f g.</pre>
</div>
<div class="code" title="File: Core.v
Line: 276
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Here is the inverse map without assuming funext *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 278
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>Definition phomotopy_path {A : pType} {P : pFam A} {f g : pForall A P}
  : (f = g) -&gt; (f ==* g) := ltac:(by intros []).</pre>
</div>
<div class="code" title="File: Core.v
Line: 279
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** And we prove that it agrees with the inverse of [equiv_path_pforall] *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 281
Time: 0.004s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>Definition path_equiv_path_pforall_phomotopy_path `{Funext} {A : pType}
  {P : pFam A} {f g : pForall A P}
  : phomotopy_path (f:=f) (g:=g) = (equiv_path_pforall f g)^-1%equiv
  := ltac:(by funext []).</pre>
</div>
<div class="code" title="File: Core.v
Line: 284
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* We note that the inverse of [path_pmap] computes definitionally on reflexivity, and hence [path_pmap] itself computes typally so. *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 286
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>Definition equiv_inverse_path_pforall_1 `{Funext} {A : pType} {P : pFam A} (f : pForall A P)
  : (equiv_path_pforall f f)^-1%equiv 1%path = reflexivity f
  := 1.</pre>
</div>
<div class="code" title="File: Core.v
Line: 288
Time: 0.003s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>

Definition path_pforall_1 `{Funext} {A : pType} {P : pFam A} {f : pForall A P}
  : equiv_path_pforall _ _ (reflexivity f) = 1%path
  := moveR_equiv_M _ _ (equiv_inverse_path_pforall_1 f)^.</pre>
</div>
<div class="code" title="File: Core.v
Line: 292
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>

Definition equiv_path_pmap_1 `{Funext} {A B} {f : A -&gt;* B}
  : path_pforall (reflexivity f) = 1%path
  := path_pforall_1.</pre>
</div>
<div class="code" title="File: Core.v
Line: 296
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Since pointed homotopies are equivalent to equalities, we can act as if
  they are paths and define a path induction for them *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 299
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition phomotopy_ind `{H0 : Funext} {A : pType} {P : pFam A}
  {k : pForall A P} (Q : forall (k' : pForall A P), (k ==* k') -&gt; Type)
  (q : Q k (reflexivity k)) (k' : pForall A P)
  : forall (H : k ==* k'), Q k' H.</pre>
</div>
<div class="code" title="File: Core.v
Line: 302
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 303
Time: 0.033s">
<div class="time" style="width: 19.642857142857%"></div>
<pre>
  equiv_intro (equiv_path_pforall k k')^-1%equiv p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 304
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  induction p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 305
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact q.</pre>
</div>
<div class="code" title="File: Core.v
Line: 306
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 307
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Sometimes you have a goal with both a pointed homotopy [H] and [path_pforall H].
  This is an induction principle that allows us to replace both of them by reflexivity
  at the same time. *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 311
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Definition phomotopy_ind' `{H0 : Funext} {A : pType} {P : pFam A}
  {k : pForall A P} (Q : forall (k' : pForall A P), (k ==* k') -&gt; (k = k') -&gt; Type)
  (q : Q k (reflexivity k) 1 % path) (k' : pForall A P) (H : k ==* k')
  (p : k = k') (r : path_pforall H = p)
  : Q k' H p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 315
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 316
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  induction r.</pre>
</div>
<div class="code" title="File: Core.v
Line: 317
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  revert k' H.</pre>
</div>
<div class="code" title="File: Core.v
Line: 318
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
  rapply phomotopy_ind.</pre>
</div>
<div class="code" title="File: Core.v
Line: 319
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (transport (Q _ (reflexivity _)) path_pforall_1^ q).</pre>
</div>
<div class="code" title="File: Core.v
Line: 320
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 321
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>

Definition phomotopy_ind_1 `{H0 : Funext} {A : pType} {P : pFam A}
  {k : pForall A P} (Q : forall (k' : pForall A P), (k ==* k') -&gt; Type)
  (q : Q k (reflexivity k)) :
  phomotopy_ind Q q k (reflexivity k) = q.</pre>
</div>
<div class="code" title="File: Core.v
Line: 326
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 327
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
  change (reflexivity k) with ((equiv_path_pforall k k)^-1%equiv (idpath k)).</pre>
</div>
<div class="code" title="File: Core.v
Line: 328
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_ind_comp.</pre>
</div>
<div class="code" title="File: Core.v
Line: 329
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 330
Time: 0.003s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>

Definition phomotopy_ind_1' `{H0 : Funext} {A : pType} {P : pFam A}
  {k : pForall A P} (Q : forall (k' : pForall A P), (k ==* k') -&gt; (k = k') -&gt; Type)
  (q : Q k (reflexivity k) 1 % path)
  : phomotopy_ind' Q q k (reflexivity k) (path_pforall (reflexivity k)) (1 % path)
  = transport (Q k (reflexivity k)) path_pforall_1^ q.</pre>
</div>
<div class="code" title="File: Core.v
Line: 336
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 337
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
  srapply phomotopy_ind_1.</pre>
</div>
<div class="code" title="File: Core.v
Line: 338
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 339
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Operations on equivalences needed to make pType a wild category with equivalences *)

(** The inverse equivalence of a pointed equivalence is again a pointed equivalence *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 343
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition pequiv_inverse {A B} (f : A &lt;~&gt;* B) : B &lt;~&gt;* A.</pre>
</div>
<div class="code" title="File: Core.v
Line: 343
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 344
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  snrapply Build_pEquiv.</pre>
</div>
<div class="code" title="File: Core.v
Line: 345
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: apply (Build_pMap _ _ f^-1).</pre>
</div>
<div class="code" title="File: Core.v
Line: 346
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
  1: apply moveR_equiv_V; symmetry; apply point_eq.</pre>
</div>
<div class="code" title="File: Core.v
Line: 347
Time: 0.006s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  exact _.</pre>
</div>
<div class="code" title="File: Core.v
Line: 348
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 349
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* A pointed equivalence is a section of its inverse *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 351
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition peissect {A B : pType} (f : A &lt;~&gt;* B)
  : (pequiv_inverse f) o* f ==* pmap_idmap.</pre>
</div>
<div class="code" title="File: Core.v
Line: 352
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 353
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srefine (Build_pHomotopy _ _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 354
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: apply (eissect f).</pre>
</div>
<div class="code" title="File: Core.v
Line: 355
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> 
  simpl.</pre>
</div>
<div class="code" title="File: Core.v
Line: 356
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> unfold moveR_equiv_V.</pre>
</div>
<div class="code" title="File: Core.v
Line: 356
Time: 0.007s">
<div class="time" style="width: 4.1666666666667%"></div>
<pre>
  pointed_reduce.</pre>
</div>
<div class="code" title="File: Core.v
Line: 357
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  symmetry.</pre>
</div>
<div class="code" title="File: Core.v
Line: 358
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (concat_p1 _ @ concat_1p _ @ concat_1p _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 359
Time: 0.005s">
<div class="time" style="width: 2.9761904761905%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 360
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(* A pointed equivalence is a retraction of its inverse *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 362
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition peisretr {A B : pType} (f : A &lt;~&gt;* B)
  : f o* (pequiv_inverse f) ==* pmap_idmap.</pre>
</div>
<div class="code" title="File: Core.v
Line: 363
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 364
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srefine (Build_pHomotopy _ _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 365
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: apply (eisretr f).</pre>
</div>
<div class="code" title="File: Core.v
Line: 366
Time: 0.006s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  pointed_reduce.</pre>
</div>
<div class="code" title="File: Core.v
Line: 367
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unfold moveR_equiv_V.</pre>
</div>
<div class="code" title="File: Core.v
Line: 368
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
  refine (eisadj f _ @ _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 369
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  symmetry.</pre>
</div>
<div class="code" title="File: Core.v
Line: 370
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (concat_p1 _ @ concat_p1 _ @ ap _ (concat_1p _)).</pre>
</div>
<div class="code" title="File: Core.v
Line: 371
Time: 0.005s">
<div class="time" style="width: 2.9761904761905%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 372
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Univalence for pointed types *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 374
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition equiv_path_ptype `{Univalence} (A B : pType) : A &lt;~&gt;* B &lt;~&gt; A = B.</pre>
</div>
<div class="code" title="File: Core.v
Line: 374
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 375
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct A as [A a], B as [B b].</pre>
</div>
<div class="code" title="File: Core.v
Line: 376
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
  refine (equiv_ap issig_ptype (A;a) (B;b) oE _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 377
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (equiv_path_sigma _ _ _ oE _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 378
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_ oE (issig_pequiv' _ _)^-1); simpl.</pre>
</div>
<div class="code" title="File: Core.v
Line: 379
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (equiv_functor_sigma' (equiv_path_universe A B) _); intros f.</pre>
</div>
<div class="code" title="File: Core.v
Line: 380
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_concat_l.</pre>
</div>
<div class="code" title="File: Core.v
Line: 381
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply transport_path_universe.</pre>
</div>
<div class="code" title="File: Core.v
Line: 382
Time: 0.004s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 383
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition path_ptype `{Univalence} {A B : pType} : (A &lt;~&gt;* B) -&gt; A = B
  := equiv_path_ptype A B.</pre>
</div>
<div class="code" title="File: Core.v
Line: 386
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition pequiv_path {A B : pType} : (A = B) -&gt; (A &lt;~&gt;* B).</pre>
</div>
<div class="code" title="File: Core.v
Line: 388
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 389
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros p; apply (ap issig_ptype^-1) in p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 390
Time: 0.003s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
  srefine (Build_pEquiv _ _ (Build_pMap _ _ (equiv_path A B p..1) p..2) _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 391
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 392
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Two pointed equivalences are equal if their underlying pointed functions are pointed homotopic. *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 394
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition equiv_path_pequiv `{Funext} {A B : pType} (f g : A &lt;~&gt;* B)
  : (f ==* g) &lt;~&gt; (f = g).</pre>
</div>
<div class="code" title="File: Core.v
Line: 395
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 396
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
  transitivity ((issig_pequiv A B)^-1 f = (issig_pequiv A B)^-1 g).</pre>
</div>
<div class="code" title="File: Core.v
Line: 397
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 398
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre> refine (equiv_path_sigma_hprop _ _ oE _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 398
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply (equiv_path_pforall f g).</pre>
</div>
<div class="code" title="File: Core.v
Line: 399
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 400
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> symmetry; exact (equiv_ap' (issig_pequiv A B)^-1 f g).</pre>
</div>
<div class="code" title="File: Core.v
Line: 400
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 401
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>

Definition path_pequiv `{Funext} {A B : pType} (f g : A &lt;~&gt;* B)
  : (f ==* g) -&gt; (f = g)
  := fun p =&gt; equiv_path_pequiv f g p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 405
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Pointed types of pointed maps *)

(** A family of pointed types gives rise to a [pFam]. *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 409
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Definition pointed_fam {A : pType} (B : A -&gt; pType) : pFam A
  := (pointed_type o B; point (B (point A))).</pre>
</div>
<div class="code" title="File: Core.v
Line: 410
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The section of a family of pointed types *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 412
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Definition point_pforall {A : pType} (B : A -&gt; pType) : pForall A (pointed_fam B)
  := Build_pForall A (pointed_fam B) (fun x =&gt; point (B x)) 1.</pre>
</div>
<div class="code" title="File: Core.v
Line: 413
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The pointed type of pointed maps. For dependent pointed maps we need a family of pointed types, not just a family of types with a point over the basepoint of [A]. *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 415
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition ppForall (A : pType) (B : A -&gt; pType) : pType
  := Build_pType (pForall A (pointed_fam B)) (point_pforall B).</pre>
</div>
<div class="code" title="File: Core.v
Line: 416
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition ppMap (A B : pType) : pType
  := ppForall A (fun _ =&gt; B).</pre>
</div>
<div class="code" title="File: Core.v
Line: 419
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Infix "-&gt;**" := ppMap : pointed_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 421
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Notation "'ppforall'  x .. y , P"
  := (ppForall _ (fun x =&gt; .. (ppForall _ (fun y =&gt; P)) ..))
     : pointed_scope.</pre>
</div>
<div class="code" title="File: Core.v
Line: 424
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** 1-categorical properties of [pForall]. *)
(** TODO: remove funext *)

</pre>
</div>
<div class="code" title="File: Core.v
Line: 428
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Definition phomotopy_postwhisker `{Funext} {A : pType} {P : pFam A}
  {f g h : pForall A P} {p p' : f ==* g} (r : p ==* p') (q : g ==* h)
  : p @* q ==* p' @* q.</pre>
</div>
<div class="code" title="File: Core.v
Line: 430
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 431
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  snrapply Build_pHomotopy.</pre>
</div>
<div class="code" title="File: Core.v
Line: 432
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: exact (fun x =&gt; whiskerR (r x) (q x)).</pre>
</div>
<div class="code" title="File: Core.v
Line: 433
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  revert p' r.</pre>
</div>
<div class="code" title="File: Core.v
Line: 434
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre> srapply phomotopy_ind.</pre>
</div>
<div class="code" title="File: Core.v
Line: 434
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  revert h q.</pre>
</div>
<div class="code" title="File: Core.v
Line: 435
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> srapply phomotopy_ind.</pre>
</div>
<div class="code" title="File: Core.v
Line: 435
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  revert g p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 436
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> srapply phomotopy_ind.</pre>
</div>
<div class="code" title="File: Core.v
Line: 436
Time: 0.09s">
<div class="time" style="width: 53.571428571429%"></div>
<pre>
  pointed_reduce.</pre>
</div>
<div class="code" title="File: Core.v
Line: 437
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 437
Time: 0.06s">
<div class="time" style="width: 35.714285714286%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 438
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>

Definition phomotopy_prewhisker `{Funext} {A : pType} {P : pFam A}
  {f g h : pForall A P} (p : f ==* g) {q q' : g ==* h} (s : q ==* q')
  : p @* q ==* p @* q'.</pre>
</div>
<div class="code" title="File: Core.v
Line: 442
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 443
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  snrapply Build_pHomotopy.</pre>
</div>
<div class="code" title="File: Core.v
Line: 444
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: exact (fun x =&gt; whiskerL (p x) (s x)).</pre>
</div>
<div class="code" title="File: Core.v
Line: 445
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  revert q' s.</pre>
</div>
<div class="code" title="File: Core.v
Line: 446
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre> srapply phomotopy_ind.</pre>
</div>
<div class="code" title="File: Core.v
Line: 446
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  revert h q.</pre>
</div>
<div class="code" title="File: Core.v
Line: 447
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> srapply phomotopy_ind.</pre>
</div>
<div class="code" title="File: Core.v
Line: 447
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  revert g p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 448
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> srapply phomotopy_ind.</pre>
</div>
<div class="code" title="File: Core.v
Line: 448
Time: 0.106s">
<div class="time" style="width: 63.095238095238%"></div>
<pre>
  pointed_reduce.</pre>
</div>
<div class="code" title="File: Core.v
Line: 449
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 449
Time: 0.063s">
<div class="time" style="width: 37.5%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 450
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>

Definition phomotopy_compose_assoc `{Funext} {A : pType} {P : pFam A}
  {f g h k : pForall A P} (p : f ==* g) (q : g ==* h) (r : h ==* k)
  : p @* (q @* r) ==* (p @* q) @* r.</pre>
</div>
<div class="code" title="File: Core.v
Line: 454
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 455
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  snrapply Build_pHomotopy.</pre>
</div>
<div class="code" title="File: Core.v
Line: 456
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: exact (fun x =&gt; concat_p_pp (p x) (q x) (r x)).</pre>
</div>
<div class="code" title="File: Core.v
Line: 457
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  revert k r.</pre>
</div>
<div class="code" title="File: Core.v
Line: 458
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre> srapply phomotopy_ind.</pre>
</div>
<div class="code" title="File: Core.v
Line: 458
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  revert h q.</pre>
</div>
<div class="code" title="File: Core.v
Line: 459
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre> srapply phomotopy_ind.</pre>
</div>
<div class="code" title="File: Core.v
Line: 459
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  revert g p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 460
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre> srapply phomotopy_ind.</pre>
</div>
<div class="code" title="File: Core.v
Line: 460
Time: 0.168s">
<div class="time" style="width: 100%"></div>
<pre>
  pointed_reduce.</pre>
</div>
<div class="code" title="File: Core.v
Line: 461
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 461
Time: 0.096s">
<div class="time" style="width: 57.142857142857%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 462
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>

Definition phomotopy_compose_p1 {A : pType} {P : pFam A} {f g : pForall A P}
 (p : f ==* g) : p @* reflexivity g ==* p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 465
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 466
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srapply Build_pHomotopy.</pre>
</div>
<div class="code" title="File: Core.v
Line: 467
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: intro; apply concat_p1.</pre>
</div>
<div class="code" title="File: Core.v
Line: 468
Time: 0.142s">
<div class="time" style="width: 84.52380952381%"></div>
<pre>
  pointed_reduce.</pre>
</div>
<div class="code" title="File: Core.v
Line: 469
Time: 0.003s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre>
  rewrite (concat_pp_V H (concat_p1 _))^.</pre>
</div>
<div class="code" title="File: Core.v
Line: 470
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> generalize (H @ concat_p1 _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 470
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  clear H.</pre>
</div>
<div class="code" title="File: Core.v
Line: 471
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros H.</pre>
</div>
<div class="code" title="File: Core.v
Line: 471
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre> destruct H.</pre>
</div>
<div class="code" title="File: Core.v
Line: 471
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
  generalize (p point); generalize (g point).</pre>
</div>
<div class="code" title="File: Core.v
Line: 472
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros x q.</pre>
</div>
<div class="code" title="File: Core.v
Line: 473
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre> destruct q.</pre>
</div>
<div class="code" title="File: Core.v
Line: 473
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 473
Time: 0.043s">
<div class="time" style="width: 25.595238095238%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 474
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition phomotopy_compose_1p {A : pType} {P : pFam A} {f g : pForall A P}
 (p : f ==* g) : reflexivity f @* p ==* p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 477
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 478
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srapply Build_pHomotopy.</pre>
</div>
<div class="code" title="File: Core.v
Line: 479
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: Core.v
Line: 480
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro x.</pre>
</div>
<div class="code" title="File: Core.v
Line: 480
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply concat_1p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 480
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: Core.v
Line: 481
Time: 0.137s">
<div class="time" style="width: 81.547619047619%"></div>
<pre> pointed_reduce.</pre>
</div>
<div class="code" title="File: Core.v
Line: 481
Time: 0.004s">
<div class="time" style="width: 2.3809523809524%"></div>
<pre>
    rewrite (concat_pp_V H (concat_p1 _))^.</pre>
</div>
<div class="code" title="File: Core.v
Line: 482
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre> generalize (H @ concat_p1 _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 482
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    clear H.</pre>
</div>
<div class="code" title="File: Core.v
Line: 483
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros H.</pre>
</div>
<div class="code" title="File: Core.v
Line: 483
Time: 0.003s">
<div class="time" style="width: 1.7857142857143%"></div>
<pre> destruct H.</pre>
</div>
<div class="code" title="File: Core.v
Line: 483
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
    generalize (p point).</pre>
</div>
<div class="code" title="File: Core.v
Line: 484
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> generalize (g point).</pre>
</div>
<div class="code" title="File: Core.v
Line: 484
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros x q.</pre>
</div>
<div class="code" title="File: Core.v
Line: 485
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre> destruct q.</pre>
</div>
<div class="code" title="File: Core.v
Line: 485
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 485
Time: 0.049s">
<div class="time" style="width: 29.166666666667%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 486
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition phomotopy_compose_pV `{Funext} {A : pType} {P : pFam A} {f g : pForall A P}
 (p : f ==* g) : p @* p ^* ==* phomotopy_reflexive f.</pre>
</div>
<div class="code" title="File: Core.v
Line: 489
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 490
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srapply Build_pHomotopy.</pre>
</div>
<div class="code" title="File: Core.v
Line: 491
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: Core.v
Line: 492
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro x.</pre>
</div>
<div class="code" title="File: Core.v
Line: 492
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply concat_pV.</pre>
</div>
<div class="code" title="File: Core.v
Line: 492
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: Core.v
Line: 493
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> revert g p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 493
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> srapply phomotopy_ind.</pre>
</div>
<div class="code" title="File: Core.v
Line: 493
Time: 0.063s">
<div class="time" style="width: 37.5%"></div>
<pre>
    pointed_reduce.</pre>
</div>
<div class="code" title="File: Core.v
Line: 494
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 494
Time: 0.041s">
<div class="time" style="width: 24.404761904762%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 495
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>

Definition phomotopy_compose_Vp `{Funext} {A : pType} {P : pFam A} {f g : pForall A P}
 (p : f ==* g) : p ^* @* p ==* phomotopy_reflexive g.</pre>
</div>
<div class="code" title="File: Core.v
Line: 498
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 499
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srapply Build_pHomotopy.</pre>
</div>
<div class="code" title="File: Core.v
Line: 500
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: Core.v
Line: 501
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro x.</pre>
</div>
<div class="code" title="File: Core.v
Line: 501
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply concat_Vp.</pre>
</div>
<div class="code" title="File: Core.v
Line: 501
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: Core.v
Line: 502
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> revert g p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 502
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> srapply phomotopy_ind.</pre>
</div>
<div class="code" title="File: Core.v
Line: 502
Time: 0.065s">
<div class="time" style="width: 38.690476190476%"></div>
<pre>
    pointed_reduce.</pre>
</div>
<div class="code" title="File: Core.v
Line: 503
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 503
Time: 0.037s">
<div class="time" style="width: 22.02380952381%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 504
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** The pointed category structure of [pType] *)

(** The constant (zero) map *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 508
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition pconst {A B : pType} : A -&gt;* B
  := point_pforall (fun _ =&gt; B).</pre>
</div>
<div class="code" title="File: Core.v
Line: 509
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Lemma pmap_punit_pconst {A : pType} (f : A -&gt;* pUnit) : f ==* pconst.</pre>
</div>
<div class="code" title="File: Core.v
Line: 511
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 512
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srapply Build_pHomotopy.</pre>
</div>
<div class="code" title="File: Core.v
Line: 513
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: intro; apply path_unit.</pre>
</div>
<div class="code" title="File: Core.v
Line: 514
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
  apply path_contr.</pre>
</div>
<div class="code" title="File: Core.v
Line: 515
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 516
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Lemma punit_pmap_pconst {A : pType} (f : pUnit -&gt;* A) : f ==* pconst.</pre>
</div>
<div class="code" title="File: Core.v
Line: 518
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 519
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srapply Build_pHomotopy.</pre>
</div>
<div class="code" title="File: Core.v
Line: 520
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: intros []; exact (point_eq f).</pre>
</div>
<div class="code" title="File: Core.v
Line: 521
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  exact (concat_p1 _)^.</pre>
</div>
<div class="code" title="File: Core.v
Line: 522
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 523
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** * pType as a wild category *)

(** pType is a graph *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 527
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance isgraph_ptype : IsGraph pType
  := Build_IsGraph pType (fun X Y =&gt; X -&gt;* Y).</pre>
</div>
<div class="code" title="File: Core.v
Line: 528
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** pType is a 0-coherent 1-category *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 530
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance is01cat_ptype : Is01Cat pType
  := Build_Is01Cat pType _ (@pmap_idmap) (@pmap_compose).</pre>
</div>
<div class="code" title="File: Core.v
Line: 531
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** pForall is a graph *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 533
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance isgraph_pforall (A : pType) (P : pFam A) : IsGraph (pForall A P)
  := Build_IsGraph _ pHomotopy.</pre>
</div>
<div class="code" title="File: Core.v
Line: 534
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** pForall is a 0-coherent 1-category *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 536
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance is01cat_pforall (A : pType) (P : pFam A) : Is01Cat (pForall A P).</pre>
</div>
<div class="code" title="File: Core.v
Line: 536
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 537
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  econstructor.</pre>
</div>
<div class="code" title="File: Core.v
Line: 538
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 539
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact phomotopy_reflexive.</pre>
</div>
<div class="code" title="File: Core.v
Line: 539
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 540
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros a b c f g.</pre>
</div>
<div class="code" title="File: Core.v
Line: 540
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (phomotopy_transitive _ _ _ g f).</pre>
</div>
<div class="code" title="File: Core.v
Line: 540
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 541
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** pForall is a 0-coherent 1-groupoid *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 543
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance is0gpd_pforall (A : pType) (P : pFam A) : Is0Gpd (pForall A P).</pre>
</div>
<div class="code" title="File: Core.v
Line: 543
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 544
Time: 0.002s">
<div class="time" style="width: 1.1904761904762%"></div>
<pre>
  srapply Build_Is0Gpd.</pre>
</div>
<div class="code" title="File: Core.v
Line: 545
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros ? ? h.</pre>
</div>
<div class="code" title="File: Core.v
Line: 545
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (phomotopy_symmetric _ _ h).</pre>
</div>
<div class="code" title="File: Core.v
Line: 545
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 546
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** pType is a 1-coherent 1-category *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 548
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance is1cat_ptype : Is1Cat pType.</pre>
</div>
<div class="code" title="File: Core.v
Line: 548
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 549
Time: 0.006s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  econstructor.</pre>
</div>
<div class="code" title="File: Core.v
Line: 550
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 551
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> intros A B C h; rapply Build_Is0Functor.</pre>
</div>
<div class="code" title="File: Core.v
Line: 551
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros f g p; cbn.</pre>
</div>
<div class="code" title="File: Core.v
Line: 552
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply pmap_postwhisker; assumption.</pre>
</div>
<div class="code" title="File: Core.v
Line: 553
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 554
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> intros A B C h; rapply Build_Is0Functor.</pre>
</div>
<div class="code" title="File: Core.v
Line: 554
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros f g p; cbn.</pre>
</div>
<div class="code" title="File: Core.v
Line: 555
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply pmap_prewhisker; assumption.</pre>
</div>
<div class="code" title="File: Core.v
Line: 556
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 557
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros ? ? ? ? f g h; exact (pmap_compose_assoc h g f).</pre>
</div>
<div class="code" title="File: Core.v
Line: 557
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 558
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros ? ? f; exact (pmap_postcompose_idmap f).</pre>
</div>
<div class="code" title="File: Core.v
Line: 558
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 559
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros ? ? f; exact (pmap_precompose_idmap f).</pre>
</div>
<div class="code" title="File: Core.v
Line: 559
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 560
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Under funext, pType has morphism extensionality *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 562
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance hasmorext_ptype `{Funext} : HasMorExt pType.</pre>
</div>
<div class="code" title="File: Core.v
Line: 562
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 563
Time: 0.021s">
<div class="time" style="width: 12.5%"></div>
<pre>
  srapply Build_HasMorExt; intros A B f g.</pre>
</div>
<div class="code" title="File: Core.v
Line: 564
Time: 0.068s">
<div class="time" style="width: 40.47619047619%"></div>
<pre>
  refine (isequiv_homotopic (equiv_path_pforall f g)^-1%equiv _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 565
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
  intros []; reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 566
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 567
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** pType has equivalences *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 569
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance hasequivs_ptype : HasEquivs pType.</pre>
</div>
<div class="code" title="File: Core.v
Line: 569
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 570
Time: 0.006s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  srapply (Build_HasEquivs _ _ _ _ pEquiv (fun A B f =&gt; IsEquiv f));
    intros A B f; cbn; intros.</pre>
</div>
<div class="code" title="File: Core.v
Line: 572
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 573
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact f.</pre>
</div>
<div class="code" title="File: Core.v
Line: 573
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 574
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact _.</pre>
</div>
<div class="code" title="File: Core.v
Line: 574
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 575
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (Build_pEquiv _ _ f _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 575
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 576
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 576
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 577
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (pequiv_inverse f).</pre>
</div>
<div class="code" title="File: Core.v
Line: 577
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 578
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply peissect.</pre>
</div>
<div class="code" title="File: Core.v
Line: 578
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 579
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> cbn.</pre>
</div>
<div class="code" title="File: Core.v
Line: 579
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> refine (peisretr f).</pre>
</div>
<div class="code" title="File: Core.v
Line: 579
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 580
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> rapply (isequiv_adjointify f g).</pre>
</div>
<div class="code" title="File: Core.v
Line: 580
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Core.v
Line: 581
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros x; exact (r x).</pre>
</div>
<div class="code" title="File: Core.v
Line: 581
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    +</pre>
</div>
<div class="code" title="File: Core.v
Line: 582
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros x; exact (s x).</pre>
</div>
<div class="code" title="File: Core.v
Line: 582
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 583
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** TODO: finish *)
(** pType is a univalent 1-coherent 1-category *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 586
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance isunivalent_ptype `{Univalence} : IsUnivalent1Cat pType.</pre>
</div>
<div class="code" title="File: Core.v
Line: 586
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 587
Time: 0.012s">
<div class="time" style="width: 7.1428571428571%"></div>
<pre>
  srapply Build_IsUnivalent1Cat; intros A B.</pre>
</div>
<div class="code" title="File: Core.v
Line: 588
Time: 0.019s">
<div class="time" style="width: 11.309523809524%"></div>
<pre>
  refine (isequiv_homotopic (equiv_path_ptype A B)^-1 % equiv _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 589
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intros []; apply path_pequiv.</pre>
</div>
<div class="code" title="File: Core.v
Line: 590
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  srefine (Build_pHomotopy _ _).</pre>
</div>
<div class="code" title="File: Core.v
Line: 591
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 592
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> intros x; reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 592
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 593
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> (* Some messy path algebra here. *)
Abort.

(** pType is a pointed category *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 596
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance ispointedcat_ptype : IsPointedCat pType.</pre>
</div>
<div class="code" title="File: Core.v
Line: 596
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 597
Time: 0.011s">
<div class="time" style="width: 6.547619047619%"></div>
<pre>
  srapply Build_IsPointedCat.</pre>
</div>
<div class="code" title="File: Core.v
Line: 598
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: Core.v
Line: 599
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact pUnit.</pre>
</div>
<div class="code" title="File: Core.v
Line: 599
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: Core.v
Line: 600
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro A.</pre>
</div>
<div class="code" title="File: Core.v
Line: 600
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists pconst.</pre>
</div>
<div class="code" title="File: Core.v
Line: 601
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact punit_pmap_pconst.</pre>
</div>
<div class="code" title="File: Core.v
Line: 602
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: Core.v
Line: 603
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro B.</pre>
</div>
<div class="code" title="File: Core.v
Line: 603
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists pconst.</pre>
</div>
<div class="code" title="File: Core.v
Line: 604
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exact pmap_punit_pconst.</pre>
</div>
<div class="code" title="File: Core.v
Line: 605
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 606
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The constant map is definitionally equal to the zero_morphism of a pointed category *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 608
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Definition path_zero_morphism_pconst (A B : pType)
  : (@pconst A B) = zero_morphism := idpath.</pre>
</div>
<div class="code" title="File: Core.v
Line: 609
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** pForall is a 1-category *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 611
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance is1cat_pforall `{Funext} (A : pType) (P : pFam A) : Is1Cat (pForall A P).</pre>
</div>
<div class="code" title="File: Core.v
Line: 611
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 612
Time: 0.006s">
<div class="time" style="width: 3.5714285714286%"></div>
<pre>
  econstructor.</pre>
</div>
<div class="code" title="File: Core.v
Line: 613
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 614
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> intros f g h p; rapply Build_Is0Functor.</pre>
</div>
<div class="code" title="File: Core.v
Line: 614
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros q r s.</pre>
</div>
<div class="code" title="File: Core.v
Line: 615
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (phomotopy_postwhisker s p).</pre>
</div>
<div class="code" title="File: Core.v
Line: 615
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 616
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> intros f g h p; rapply Build_Is0Functor.</pre>
</div>
<div class="code" title="File: Core.v
Line: 616
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros q r s.</pre>
</div>
<div class="code" title="File: Core.v
Line: 617
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (phomotopy_prewhisker p s).</pre>
</div>
<div class="code" title="File: Core.v
Line: 617
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 618
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros ? ? ? ? p q r.</pre>
</div>
<div class="code" title="File: Core.v
Line: 618
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> simpl.</pre>
</div>
<div class="code" title="File: Core.v
Line: 618
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (phomotopy_compose_assoc p q r).</pre>
</div>
<div class="code" title="File: Core.v
Line: 618
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 619
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros ? ? p; exact (phomotopy_compose_p1 p).</pre>
</div>
<div class="code" title="File: Core.v
Line: 619
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Core.v
Line: 620
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros ? ? p; exact (phomotopy_compose_1p p).</pre>
</div>
<div class="code" title="File: Core.v
Line: 620
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 621
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** pForall is a 1-groupoid *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 623
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance is1gpd_pforall `{Funext} (A : pType) (P : pFam A) : Is1Gpd (pForall A P).</pre>
</div>
<div class="code" title="File: Core.v
Line: 623
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 624
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  econstructor.</pre>
</div>
<div class="code" title="File: Core.v
Line: 625
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: Core.v
Line: 626
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros ? ? p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 626
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (phomotopy_compose_pV p).</pre>
</div>
<div class="code" title="File: Core.v
Line: 626
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: Core.v
Line: 627
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros ? ? p.</pre>
</div>
<div class="code" title="File: Core.v
Line: 627
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (phomotopy_compose_Vp p).</pre>
</div>
<div class="code" title="File: Core.v
Line: 627
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 628
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The forgetful map from pType to Type is a 0-functor *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 630
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance is0functor_pointed_type : Is0Functor pointed_type.</pre>
</div>
<div class="code" title="File: Core.v
Line: 630
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 631
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply Build_Is0Functor.</pre>
</div>
<div class="code" title="File: Core.v
Line: 632
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros.</pre>
</div>
<div class="code" title="File: Core.v
Line: 632
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact f.</pre>
</div>
<div class="code" title="File: Core.v
Line: 632
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 633
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The forgetful map from pType to Type is a 1-functor *)</pre>
</div>
<div class="code" title="File: Core.v
Line: 635
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre>Global Instance is1functor_pointed_type : Is1Functor pointed_type.</pre>
</div>
<div class="code" title="File: Core.v
Line: 635
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Core.v
Line: 636
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply Build_Is1Functor.</pre>
</div>
<div class="code" title="File: Core.v
Line: 637
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: Core.v
Line: 638
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros ? ? ? ? h.</pre>
</div>
<div class="code" title="File: Core.v
Line: 638
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact h.</pre>
</div>
<div class="code" title="File: Core.v
Line: 638
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: Core.v
Line: 639
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros.</pre>
</div>
<div class="code" title="File: Core.v
Line: 639
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 639
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  +</pre>
</div>
<div class="code" title="File: Core.v
Line: 640
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros.</pre>
</div>
<div class="code" title="File: Core.v
Line: 640
Time: 0.001s">
<div class="time" style="width: 0.5952380952381%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: Core.v
Line: 640
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Core.v
Line: 642
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

