<html>
<head>
<title>Pullback.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for Pullback.v</h1>

<div class="code" title="File: Pullback.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(* -*- mode: coq; mode: visual-line -*- *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 1
Time: 0.05s">
<div class="time" style="width: 18.65671641791%"></div>
<pre>Require Import HoTT.Basics HoTT.Types.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 1
Time: 0.007s">
<div class="time" style="width: 2.6119402985075%"></div>
<pre>
Require Import HFiber PathAny Cubical.PathSquare.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 2
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Require Import Diagrams.CommutativeSquares.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 3
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Local Open Scope path_scope.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 5
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** * Pullbacks *)

(** The pullback as an object *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 9
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition Pullback {A B C} (f : B -&gt; A) (g : C -&gt; A)
  := { b : B &amp; { c : C &amp; f b = g c }}.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 10
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Global Arguments Pullback {A B C}%type_scope (f g)%function_scope.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 12
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The universal commutative square *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 14
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition pullback_pr1 {A B C} {f : B -&gt; A} {g : C -&gt; A}
: Pullback f g -&gt; B := (fun z =&gt; z.1).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 15
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Definition pullback_pr2 {A B C} {f : B -&gt; A} {g : C -&gt; A}
: Pullback f g -&gt; C := (fun z =&gt; z.2.1).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 17
Time: 0.005s">
<div class="time" style="width: 1.865671641791%"></div>
<pre>
Definition pullback_commsq {A B C} (f : B -&gt; A) (g : C -&gt; A)
: f o pullback_pr1 == g o pullback_pr2
:= (fun z =&gt; z.2.2).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 20
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The universally induced map into it by any commutative square *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 22
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>Definition pullback_corec {A B C D}
           {f : A -&gt; B} {g : C -&gt; D} {h : A -&gt; C} {k : B -&gt; D}
           (p : k o f == g o h)
: A -&gt; Pullback k g
:= fun a =&gt; (f a ; h a ; p a).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 26
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Symmetry of the pullback *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 28
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition equiv_pullback_symm {A B C} (f : B -&gt; A) (g : C -&gt; A)
: Pullback f g &lt;~&gt; Pullback g f.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 29
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 30
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_ oE equiv_sigma_symm (fun b c =&gt; f b = g c)).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 31
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_functor_sigma_id; intros c.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 32
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_functor_sigma_id; intros b.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 33
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_path_inverse.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 34
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 35
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Pullback over [Unit] is equivalent to a product. *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 37
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition equiv_pullback_unit_prod (A B : Type)
: Pullback (@const A Unit tt) (@const B Unit tt) &lt;~&gt; A * B.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 38
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 39
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  simple refine (equiv_adjointify _ _ _ _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 40
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 41
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros [a [b _]]; exact (a , b).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 41
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 42
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros [a b]; exact (a ; b ; 1).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 42
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros [a b]; exact 1.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 43
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 44
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre> intros [a [b p]]; simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 44
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply (path_sigma' _ 1); simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 45
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply (path_sigma' _ 1); simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 46
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    apply path_contr.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 47
Time: 0.003s">
<div class="time" style="width: 1.1194029850746%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 48
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The property of a given commutative square being a pullback *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 50
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>Definition IsPullback {A B C D}
           {f : A -&gt; B} {g : C -&gt; D} {h : A -&gt; C} {k : B -&gt; D}
           (p : k o f == g o h)
  := IsEquiv (pullback_corec p).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 53
Time: 0.003s">
<div class="time" style="width: 1.1194029850746%"></div>
<pre>

Definition equiv_ispullback {A B C D}
           {f : A -&gt; B} {g : C -&gt; D} {h : A -&gt; C} {k : B -&gt; D}
           (p : k o f == g o h) (ip : IsPullback p)
  : A &lt;~&gt; Pullback k g
  := Build_Equiv _ _ (pullback_corec p) ip.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 59
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** This is equivalent to the transposed square being a pullback. *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 61
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>Definition ispullback_symm {A B C D}
           {f : A -&gt; B} {g : C -&gt; D} {h : A -&gt; C} {k : B -&gt; D}
           (p : g o h == k o f) (pb : IsPullback (fun a =&gt; (p a)^))
  : IsPullback p.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 64
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 65
Time: 0.03s">
<div class="time" style="width: 11.194029850746%"></div>
<pre>
  rapply (cancelL_isequiv (equiv_pullback_symm g k)).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 66
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply pb.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 67
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 68
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The pullback of the projections [{d:D &amp; P d} -&gt; D &lt;- {d:D &amp; Q d}] is equivalent to [{d:D &amp; P d * Q d}]. *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 70
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>Definition ispullback_sigprod {D : Type} (P Q : D -&gt; Type)
  : IsPullback (fun z:{d:D &amp; P d * Q d} =&gt; 1%path : (z.1;fst z.2).1 = (z.1;snd z.2).1).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 71
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 72
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
  srapply isequiv_adjointify.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 73
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 74
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre> intros [[d1 p] [[d2 q] e]]; cbn in e.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 74
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists d1.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exact (p, e^ # q).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 75
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 76
Time: 0.005s">
<div class="time" style="width: 1.865671641791%"></div>
<pre> intros [[d1 p] [[d2 q] e]]; unfold pullback_corec; cbn in *.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 76
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    destruct e; reflexivity.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 77
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 78
Time: 0.012s">
<div class="time" style="width: 4.4776119402985%"></div>
<pre> intros [d [p q]]; reflexivity.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 78
Time: 0.005s">
<div class="time" style="width: 1.865671641791%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 79
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>

Definition equiv_sigprod_pullback {D : Type} (P Q : D -&gt; Type)
  : {d:D &amp; P d * Q d} &lt;~&gt; Pullback (@pr1 D P) (@pr1 D Q)
  := Build_Equiv _ _ _ (ispullback_sigprod P Q).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 83
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** For any commutative square, the fiber of the fibers is equivalent to the fiber of the "gap map" [pullback_corec]. *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 85
Time: 0.004s">
<div class="time" style="width: 1.4925373134328%"></div>
<pre>Definition hfiber_pullback_corec {A B C D}
           {f : A -&gt; B} {g : C -&gt; D} {h : A -&gt; C} {k : B -&gt; D}
           (p : k o f == g o h) (b : B) (c : C) (q : k b = g c)
  : hfiber (pullback_corec p) (b; c; q) &lt;~&gt; hfiber (functor_hfiber p b) (c; q^).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 88
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 89
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unfold hfiber, functor_hfiber, functor_sigma.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 90
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (equiv_sigma_assoc _ _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 91
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
  apply equiv_functor_sigma_id; intros a; cbn.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 92
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_ oE (equiv_path_sigma _ _ _)^-1); cbn.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 93
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_functor_sigma_id; intro p0; cbn.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 94
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>
  rewrite transport_sigma'; cbn.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 95
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
  refine ((equiv_path_sigma _ _ _) oE _ oE (equiv_path_sigma _ _ _)^-1); cbn.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 96
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_functor_sigma_id; intro p1; cbn.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 97
Time: 0.01s">
<div class="time" style="width: 3.7313432835821%"></div>
<pre>
  rewrite !transport_paths_Fr, !transport_paths_Fl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 98
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>
  refine (_ oE (equiv_ap (equiv_path_inverse _ _) _ _)); cbn.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 99
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_concat_l.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 100
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
  refine (_ @ (inv_pp _ _)^).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 101
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>  apply whiskerL.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 101
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (_ @ (inv_pp _ _)^).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 102
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>  apply whiskerL.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 102
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
  symmetry; apply inv_V.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 103
Time: 0.016s">
<div class="time" style="width: 5.9701492537313%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 104
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** If the induced maps on fibers are equivalences, then a square is a pullback. *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 106
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>Definition ispullback_isequiv_functor_hfiber {A B C D : Type}
           {f : A -&gt; B} {g : C -&gt; D} {h : A -&gt; C} {k : B -&gt; D}
           (p : k o f == g o h)
           (e : forall b:B, IsEquiv (functor_hfiber p b))
  : IsPullback p.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 110
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 111
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unfold IsPullback.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 112
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply isequiv_contr_map; intro x.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 113
Time: 0.003s">
<div class="time" style="width: 1.1194029850746%"></div>
<pre>
  rapply contr_equiv'.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 114
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 115
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre> symmetry; apply hfiber_pullback_corec.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 115
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 116
Time: 0.003s">
<div class="time" style="width: 1.1194029850746%"></div>
<pre> exact _.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 116
Time: 0.003s">
<div class="time" style="width: 1.1194029850746%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 117
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Conversely, if the square is a pullback then the induced maps on fibers are equivalences. *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 119
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>Definition isequiv_functor_hfiber_ispullback {A B C D : Type}
           {f : A -&gt; B} {g : C -&gt; D} {h : A -&gt; C} {k : B -&gt; D}
           (p : k o f == g o h)
           (e : IsPullback p)
  : forall b:B, IsEquiv (functor_hfiber p b).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 123
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 124
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply isequiv_from_functor_sigma.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 125
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  unfold IsPullback in e.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 126
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
  snrapply isequiv_commsq'.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 127
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  4: exact (equiv_fibration_replacement f)^-1%equiv.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 128
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: exact (Pullback k g).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 129
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  1: exact (pullback_corec p).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 130
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  {</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 131
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply (functor_sigma idmap); intro b.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 131
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply (functor_sigma idmap); intro c.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 132
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply inverse.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 133
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 133
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  {</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 134
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre> intros [x [y q]].</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 134
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    destruct q.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 135
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    apply (path_sigma' _ idpath).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 136
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    apply (path_sigma' _ idpath).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 137
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 138
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (_^ @ (inv_Vp _ _)^).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 139
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply concat_1p.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 140
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 140
Time: 0.042s">
<div class="time" style="width: 15.671641791045%"></div>
<pre>
  all: exact _.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 141
Time: 0.006s">
<div class="time" style="width: 2.2388059701493%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 142
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The pullback of a map along another one *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 144
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition pullback_along {A B C} (f : B -&gt; A) (g : C -&gt; A)
: Pullback f g -&gt; B
  := pr1.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 146
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Notation "f ^*" := (pullback_along f) : function_scope.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 148
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition hfiber_pullback_along {A B C} (f : B -&gt; A) (g : C -&gt; A) (b:B)
: hfiber (f ^* g) b &lt;~&gt; hfiber g (f b).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 151
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 152
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  refine (equiv_functor_sigma_id (fun c =&gt; equiv_path_inverse _ _) oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 153
Time: 0.014s">
<div class="time" style="width: 5.2238805970149%"></div>
<pre>
  make_equiv_contr_basedpaths.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 154
Time: 0.003s">
<div class="time" style="width: 1.1194029850746%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 155
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** And the dual sort of pullback *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 157
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Definition pullback_along' {A B C} (g : C -&gt; A) (f : B -&gt; A)
: Pullback f g -&gt; C
  := fun z =&gt; z.2.1.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 159
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Arguments pullback_along' / .</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 161
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Notation "g ^*'" := (pullback_along' g) : function_scope.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 163
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition hfiber_pullback_along' {A B C} (g : C -&gt; A) (f : B -&gt; A) (c:C)
: hfiber (g ^*' f) c &lt;~&gt; hfiber f (g c).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 166
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 167
Time: 0.012s">
<div class="time" style="width: 4.4776119402985%"></div>
<pre>
  make_equiv_contr_basedpaths.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 168
Time: 0.003s">
<div class="time" style="width: 1.1194029850746%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 169
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Section Functor_Pullback.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 171
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>

  Context {A1 B1 C1 A2 B2 C2}
          (f1 : B1 -&gt; A1) (g1 : C1 -&gt; A1)
          (f2 : B2 -&gt; A2) (g2 : C2 -&gt; A2)
          (h : A1 -&gt; A2) (k : B1 -&gt; B2) (l : C1 -&gt; C2)
          (p : f2 o k == h o f1) (q : g2 o l == h o g1).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 177
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>

  Definition functor_pullback : Pullback f1 g1 -&gt; Pullback f2 g2
    := functor_sigma k
        (fun b1 =&gt; (functor_sigma l
                     (fun c1 e1 =&gt; p b1 @ ap h e1 @ (q c1)^))).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 182
Time: 0.003s">
<div class="time" style="width: 1.1194029850746%"></div>
<pre>

  Definition hfiber_functor_pullback (z : Pullback f2 g2)
  : hfiber functor_pullback z
    &lt;~&gt; Pullback (transport (hfiber h) z.2.2 o functor_hfiber (k := f2) p z.1)
                 (functor_hfiber q z.2.1).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 187
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 188
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>
    destruct z as [b2 [c2 e2]].</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 189
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    refine (_ oE hfiber_functor_sigma _ _ _ _ _ _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 190
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply equiv_functor_sigma_id.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 191
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    intros [b1 e1]; simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 192
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    refine (_ oE (equiv_transport _ _ _ (transport_sigma' e1^ (c2; e2)))).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 193
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    refine (_ oE hfiber_functor_sigma _ _ _ _ _ _); simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 194
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply equiv_functor_sigma_id.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 195
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    intros [c1 e3]; simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 196
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    refine (_ oE (equiv_transport _ _ _
                   (ap (fun e =&gt; e3^ # e) (transport_paths_Fl e1^ e2)))).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 198
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    refine (_ oE (equiv_transport _ _ _ (transport_paths_Fr e3^ _))).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 199
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold functor_hfiber; simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 200
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    refine (equiv_concat_l (transport_sigma' e2 _) _ oE _); simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 201
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    refine (equiv_path_sigma _ _ _ oE _); simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 202
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply equiv_functor_sigma_id; intros e0; simpl.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 203
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    refine (equiv_concat_l (transport_paths_Fl e0 _) _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 204
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    refine (equiv_concat_l (whiskerL (ap h e0)^ (transport_paths_r e2 _)) _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 205
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (equiv_moveR_Vp _ _ _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 206
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    refine (equiv_concat_l (concat_pp_p _ _ _) _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 207
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (equiv_moveR_Vp _ _ _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 208
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>
    do 2 refine (equiv_concat_r (concat_pp_p _ _ _) _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 209
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (equiv_moveL_pM _ _ _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 210
Time: 0.011s">
<div class="time" style="width: 4.1044776119403%"></div>
<pre>
    abstract (rewrite !ap_V, inv_V; refine (equiv_path_inverse _ _)).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 211
Time: 0.019s">
<div class="time" style="width: 7.089552238806%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 212
Time: 0.01s">
<div class="time" style="width: 3.7313432835821%"></div>
<pre>

End Functor_Pullback.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 214
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Section EquivPullback.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 216
Time: 0.004s">
<div class="time" style="width: 1.4925373134328%"></div>
<pre>
  Context {A B C f g A' B' C' f' g'}
          (eA : A &lt;~&gt; A') (eB : B &lt;~&gt; B') (eC : C &lt;~&gt; C')
          (p : f' o eB == eA o f) (q :  g' o eC == eA o g).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 219
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>

  Lemma equiv_pullback
    : Pullback f g &lt;~&gt; Pullback f' g'.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 222
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 223
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    unfold Pullback.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 224
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply (equiv_functor_sigma' eB); intro b.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 225
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply (equiv_functor_sigma' eC); intro c.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 226
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (equiv_concat_l (p _) _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 227
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (equiv_concat_r (q _)^ _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 228
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (equiv_ap' eA _ _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 229
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 230
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

End EquivPullback.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 232
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>


(** Pullbacks commute with sigmas *)</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 235
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section PullbackSigma.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 235
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Context
    {X Y Z : Type}
    {A : X -&gt; Type} {B : Y -&gt; Type} {C : Z -&gt; Type}
    (f : Y -&gt; X) (g : Z -&gt; X)
    (r : forall x, B x -&gt; A (f x))
    (s : forall x, C x -&gt; A (g x)).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 242
Time: 0.004s">
<div class="time" style="width: 1.4925373134328%"></div>
<pre>

  Definition equiv_sigma_pullback
    : {p : Pullback f g &amp; Pullback (transport A p.2.2 o r p.1) (s p.2.1)}
      &lt;~&gt; Pullback (functor_sigma f r) (functor_sigma g s).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 246
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 247
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (equiv_functor_sigma_id (fun _ =&gt; equiv_functor_sigma_id _) oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 248
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 249
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros; rapply equiv_path_sigma.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 249
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 250
Time: 0.05s">
<div class="time" style="width: 18.65671641791%"></div>
<pre> make_equiv.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 250
Time: 0.018s">
<div class="time" style="width: 6.7164179104478%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 251
Time: 0.007s">
<div class="time" style="width: 2.6119402985075%"></div>
<pre>

End PullbackSigma.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 253
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** ** Paths in pullbacks *)

</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 256
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>Definition equiv_path_pullback {A B C} (f : B -&gt; A) (g : C -&gt; A)
           (x y : Pullback f g)
  : { p : x.1 = y.1 &amp; { q : x.2.1 = y.2.1 &amp; PathSquare (ap f p) (ap g q) x.2.2 y.2.2 } }
      &lt;~&gt; (x = y).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 259
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 260
Time: 0.014s">
<div class="time" style="width: 5.2238805970149%"></div>
<pre>
  revert y; rapply equiv_path_from_contr.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 261
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  {</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 262
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exists idpath.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 262
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exists idpath.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 262
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    cbn.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 263
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply sq_refl_v.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 263
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 263
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>
  destruct x as [b [c p]]; unfold Pullback; cbn.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 264
Time: 0.007s">
<div class="time" style="width: 2.6119402985075%"></div>
<pre>
  contr_sigsig b (idpath b).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 265
Time: 0.011s">
<div class="time" style="width: 4.1044776119403%"></div>
<pre>
  contr_sigsig c (idpath c).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 266
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  cbn.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 267
Time: 0.007s">
<div class="time" style="width: 2.6119402985075%"></div>
<pre>
  rapply (contr_equiv' {p' : f b = g c &amp; p = p'}).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 268
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply equiv_functor_sigma_id; intros p'.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 269
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply sq_1G.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 270
Time: 0.007s">
<div class="time" style="width: 2.6119402985075%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 271
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The 3x3 Lemma *)

</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 274
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section Pullback3x3.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 274
Time: 0.004s">
<div class="time" style="width: 1.4925373134328%"></div>
<pre>

  Context
    (A00 A02 A04 A20 A22 A24 A40 A42 A44 : Type)
    (f01 : A00 -&gt; A02) (f03 : A04 -&gt; A02)
    (f10 : A00 -&gt; A20) (f12 : A02 -&gt; A22) (f14 : A04 -&gt; A24)
    (f21 : A20 -&gt; A22) (f23 : A24 -&gt; A22)
    (f30 : A40 -&gt; A20) (f32 : A42 -&gt; A22) (f34 : A44 -&gt; A24)
    (f41 : A40 -&gt; A42) (f43 : A44 -&gt; A42)
    (H11 : f12 o f01 == f21 o f10) (H13 : f12 o f03 == f23 o f14)
    (H31 : f32 o f41 == f21 o f30) (H33 : f32 o f43 == f23 o f34).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 284
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Let fX1 := functor_pullback f10 f30 f12 f32 f21 f01 f41 H11 H31.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 286
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Let fX3 := functor_pullback f14 f34 f12 f32 f23 f03 f43 H13 H33.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 287
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>
  Let f1X := functor_pullback f01 f03 f21 f23 f12 f10 f14 (symmetry _ _ H11) (symmetry _ _ H13).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 288
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>
  Let f3X := functor_pullback f41 f43 f21 f23 f32 f30 f34 (symmetry _ _ H31) (symmetry _ _ H33).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 289
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Theorem pullback3x3 : Pullback fX1 fX3 &lt;~&gt; Pullback f1X f3X.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 291
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 292
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    refine (_ oE _ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 293
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>
    1,3:do 2 (rapply equiv_functor_sigma_id; intro).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 294
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    1:apply equiv_path_pullback.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 295
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>
    1:symmetry; apply equiv_path_pullback.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 296
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    refine (_ oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 297
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    {</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 298
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre> do 4 (rapply equiv_functor_sigma_id; intro).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 298
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      refine (sq_tr oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 299
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
      refine (sq_move_14^-1 oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 300
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
      refine (sq_move_31 oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 301
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
      refine (sq_move_24^-1 oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 302
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
      refine (sq_move_23^-1 oE _).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 303
Time: 0.005s">
<div class="time" style="width: 1.865671641791%"></div>
<pre>
      rewrite 2 inv_V.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 304
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
      reflexivity.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 305
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> }</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 305
Time: 0.268s">
<div class="time" style="width: 100%"></div>
<pre>
    make_equiv.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 306
Time: 0.108s">
<div class="time" style="width: 40.298507462687%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 307
Time: 0.05s">
<div class="time" style="width: 18.65671641791%"></div>
<pre>

End Pullback3x3.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 309
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Pasting for pullbacks (or 2-pullbacks lemma) *)

</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 312
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section Pasting.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 312
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Given the following diagram where the right square is a pullback square, then the outer square is a pullback square if and only if the left square is a pullback. *)
  (* A --k--&gt; B --l--&gt; C
     |    //  |    //  |
     f  comm  g  comm  h
     |  //    |  //    |
     V //     V //     V
     X --i--&gt; Y --j--&gt; Z *)
 </pre>
</div>
<div class="code" title="File: Pullback.v
Line: 321
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>Context
    {A B C X Y Z : Type}
    {k : A -&gt; B} {l : B -&gt; C}
    {f : A -&gt; X} {g : B -&gt; Y} {h : C -&gt; Z}
    {i : X -&gt; Y} {j : Y -&gt; Z}
    (H : i o f == g o k) (K : j o g == h o l) {e1 : IsPullback K}.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 326
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>

  Definition ispullback_pasting_left
    : IsPullback (comm_square_comp' H K) -&gt; IsPullback H.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 329
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 330
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro e2.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 331
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply ispullback_isequiv_functor_hfiber.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 332
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro b.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 333
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    pose (e1' := isequiv_functor_hfiber_ispullback _ e1 (i b)).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 334
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    pose (e2' := isequiv_functor_hfiber_ispullback _ e2 b).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 335
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    snrapply isequiv_commsq'.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 336
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    7: apply isequiv_idmap.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 337
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    4: apply (functor_hfiber_compose H K b).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 338
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    1,2: exact _.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 339
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 340
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>

  Definition ispullback_pasting_outer
    : IsPullback H -&gt; IsPullback (comm_square_comp' H K).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 343
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 344
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro e2.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 345
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply ispullback_isequiv_functor_hfiber.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 346
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro b.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 347
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    pose (e1' := isequiv_functor_hfiber_ispullback _ e1 (i b)).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 348
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    pose (e2' := isequiv_functor_hfiber_ispullback _ e2 b).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 349
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
    snrapply isequiv_commsq'.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 350
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    9: apply isequiv_idmap.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 351
Time: 0.002s">
<div class="time" style="width: 0.74626865671642%"></div>
<pre>
    4: symmetry; apply (functor_hfiber_compose H K b).</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 352
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    1,2: exact _.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 353
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 354
Time: 0.001s">
<div class="time" style="width: 0.37313432835821%"></div>
<pre>

End Pasting.</pre>
</div>
<div class="code" title="File: Pullback.v
Line: 357
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

