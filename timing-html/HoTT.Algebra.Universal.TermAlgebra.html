<html>
<head>
<title>TermAlgebra.v</title>
<style>
.time {
  background-color: #ffaaaa;
  height: 100%;
  z-index: -1;
  position: absolute;
}
.code {
  z-index: 0;
  position: relative;
  border-style: solid;
  border-color: transparent;
  border-width: 1px;
}
.code:hover {
  border-style: solid;
  border-color: black;
  border-width: 1px;
}
pre {
  margin: 1px;
}
</style>
</head>
<body>
<h1>Timings for TermAlgebra.v</h1>

<div class="code" title="File: TermAlgebra.v
Line: 1
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>(** This file defines the term algebra [TermAlgebra], also
    referred to as the absolutely free algebra.

    We show that term algebra forms an adjoint functor from
    the category of hset carriers

    &lt;&lt;
      {C : Carrier σ | forall s, IsHSet (C s)}
    &gt;&gt;

    to the category of algebras (without equations) [Algebra σ],
    where [Carriers σ] is notation for [Sort σ -&gt; Type].
    See [ump_term_algebra].

    There is a similar construction for algebras with equations,
    the free algebra [FreeAlgebra]. The free algebra is defined in
    another file. *)

</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 18
Time: 0.106s">
<div class="time" style="width: 100%"></div>
<pre>Require Export HoTT.Algebra.Universal.Algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 18
Time: 0.022s">
<div class="time" style="width: 20.754716981132%"></div>
<pre>

Require Import
  HoTT.Types
  HoTT.HProp
  HoTT.HSet
  HoTT.Classes.interfaces.canonical_names
  HoTT.Algebra.Universal.Homomorphism
  HoTT.Algebra.Universal.Congruence.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 26
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Unset Elimination Schemes.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 28
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Import notations_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 30
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The term algebra carriers are generated by [C : Carriers σ],
    with an element for each element of [C s], and an operation for
    each operation symbol [u : Symbol σ]. *)

</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 35
Time: 0.002s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>Inductive CarriersTermAlgebra {σ} (C : Carriers σ) : Carriers σ :=
  | var_term_algebra : forall s, C s -&gt; CarriersTermAlgebra C s
  | ops_term_algebra : forall (u : Symbol σ),
      DomOperation (CarriersTermAlgebra C) (σ u) -&gt;
      CarriersTermAlgebra C (sort_cod (σ u)).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 39
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Scheme CarriersTermAlgebra_ind := Elimination for CarriersTermAlgebra Sort Type.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 41
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Arguments CarriersTermAlgebra_ind {σ}.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 42
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Definition CarriersTermAlgebra_rect {σ} := @CarriersTermAlgebra_ind σ.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 44
Time: 0.002s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>

Definition CarriersTermAlgebra_rec {σ : Signature} (C : Carriers σ)
  (P : Sort σ -&gt; Type) (vs : forall (s : Sort σ), C s -&gt; P s)
  (os : forall (u : Symbol σ) (c : DomOperation (CarriersTermAlgebra C) (σ u)),
        (forall i : Arity (σ u), P (sorts_dom (σ u) i)) -&gt; P (sort_cod (σ u)))
  (s : Sort σ) (T : CarriersTermAlgebra C s)
  : P s
  := CarriersTermAlgebra_ind C (fun s _ =&gt; P s) vs os s T.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 52
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** A family of relations [R : forall s, Relation (C s)] can be
    extended to a family of relations on the term algebra carriers,

    &lt;&lt;
      forall s, Relation (CarriersTermAlgebra C s)
    &gt;&gt;

    See [ExtendDRelTermAlgebra] and [ExtendRelTermAlgebra] below. *)

</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 62
Time: 0.003s">
<div class="time" style="width: 2.8301886792453%"></div>
<pre>Fixpoint ExtendDRelTermAlgebra {σ : Signature} {C : Carriers σ}
  (R : forall s, Relation (C s)) {s1 s2 : Sort σ}
  (S : CarriersTermAlgebra C s1) (T : CarriersTermAlgebra C s2)
  : Type
  := match S, T with
     | var_term_algebra s1 x, var_term_algebra s2 y =&gt;
        {p : s1 = s2 | R s2 (p # x) y}
     | ops_term_algebra u1 a, ops_term_algebra u2 b =&gt;
        { p : u1 = u2 |
          forall i : Arity (σ u1),
          ExtendDRelTermAlgebra
            R (a i) (b (transport (fun v =&gt; Arity (σ v)) p i))}
     | _, _ =&gt; Empty
     end.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 75
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>

Definition ExtendRelTermAlgebra {σ : Signature} {C : Carriers σ}
  (R : forall s, Relation (C s)) {s : Sort σ}
  : CarriersTermAlgebra C s -&gt; CarriersTermAlgebra C s -&gt; Type
  := ExtendDRelTermAlgebra R.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 80
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The next section shows, in particular, the following:
    If [R : forall s, Relation (C s)] is a family of mere
    equivalence relations, then [@ExtendRelTermAlgebra σ C R] is
    a family of mere equivalence eqlations. *)

</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 86
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section extend_rel_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 86
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Context `{Funext} {σ : Signature} {C : Carriers σ}
    (R : forall s, Relation (C s))
    `{!forall s, is_mere_relation (C s) (R s)}.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 89
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>

  Global Instance hprop_extend_drel_term_algebra {s1 s2 : Sort σ}
    (S : CarriersTermAlgebra C s1) (T : CarriersTermAlgebra C s2)
    : IsHProp (ExtendDRelTermAlgebra R S T).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 93
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 94
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    generalize dependent s2.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 95
Time: 0.056s">
<div class="time" style="width: 52.830188679245%"></div>
<pre>
    induction S; intros s2 T; destruct T; exact _.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 96
Time: 0.003s">
<div class="time" style="width: 2.8301886792453%"></div>
<pre>
  Qed.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 97
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>

  Global Instance reflexive_extend_rel_term_algebra
    `{!forall s, Reflexive (R s)} {s : Sort σ}
    : Reflexive (@ExtendRelTermAlgebra σ C R s).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 101
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 102
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro S.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 103
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> induction S as [| u c h].</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 103
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 104
Time: 0.003s">
<div class="time" style="width: 2.8301886792453%"></div>
<pre> by exists idpath.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 104
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 105
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exists idpath.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 105
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro i.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 105
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply h.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 105
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>
  Qed.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 106
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>

  Lemma symmetric_extend_drel_term_algebra
    `{!forall s, Symmetric (R s)} {s1 s2 : Sort σ}
    (S : CarriersTermAlgebra C s1) (T : CarriersTermAlgebra C s2)
    (h : ExtendDRelTermAlgebra R S T)
    : ExtendDRelTermAlgebra R T S.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 112
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 113
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    generalize dependent s2.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 114
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>
    induction S as [| u c h]; intros s2 [] p.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 115
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 116
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre> destruct p as [p1 p2].</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 116
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      induction p1.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 117
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exists idpath.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 117
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> by symmetry.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 117
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 118
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> elim p.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 118
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 119
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> elim p.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 119
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 120
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre> destruct p as [p f].</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 120
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>
      induction p.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 121
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exists idpath.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 121
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro i.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 121
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply h.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 121
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply f.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 121
Time: 0.003s">
<div class="time" style="width: 2.8301886792453%"></div>
<pre>
  Qed.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 122
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Global Instance symmetric_extend_rel_term_algebra
    `{!forall s, Symmetric (R s)} {s : Sort σ}
    : Symmetric (@ExtendRelTermAlgebra σ C R s).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 126
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 127
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros S T.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 128
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply symmetric_extend_drel_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 128
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 129
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>

  Lemma transitive_extend_drel_term_algebra
    `{!forall s, Transitive (R s)} {s1 s2 s3 : Sort σ}
    (S : CarriersTermAlgebra C s1)
    (T : CarriersTermAlgebra C s2)
    (U : CarriersTermAlgebra C s3)
    (h1 : ExtendDRelTermAlgebra R S T)
    (h2 : ExtendDRelTermAlgebra R T U)
    : ExtendDRelTermAlgebra R S U.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 138
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 139
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    generalize dependent s3.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 140
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    generalize dependent s2.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 141
Time: 0.019s">
<div class="time" style="width: 17.924528301887%"></div>
<pre>
    induction S as [| u c h];
      intros s2 [? d | ? d] h2 s3 [] h3;
      destruct h2 as [p2 P2], h3 as [p3 P3] || by (elim h2 || elim h3).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 144
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 145
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exists (p2 @ p3).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 145
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>
      rewrite transport_pp.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 146
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>
      induction p2, p3.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 147
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      by transitivity d.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 148
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 149
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exists (p2 @ p3).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 149
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      intro i.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 150
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>
      induction p2.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 151
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      apply (h i _ (d i)).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 152
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      +</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 153
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply P2.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 153
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      +</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 154
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre> rewrite concat_1p.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 154
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply P3.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 154
Time: 0.006s">
<div class="time" style="width: 5.6603773584906%"></div>
<pre>
  Qed.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 155
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>

  Global Instance transitive_extend_rel_term_algebra
    `{!forall s, Transitive (R s)} {s : Sort σ}
    : Transitive (@ExtendRelTermAlgebra σ C R s).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 159
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 160
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros S T U.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 161
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply transitive_extend_drel_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 161
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 162
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Global Instance equivrel_extend_rel_term_algebra
    `{!forall s, EquivRel (R s)} (s : Sort σ)
    : EquivRel (@ExtendRelTermAlgebra σ C R s).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 166
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 167
Time: 0.003s">
<div class="time" style="width: 2.8301886792453%"></div>
<pre>
    constructor; exact _.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 168
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Qed.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 169
Time: 0.002s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>

End extend_rel_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 171
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** By using path (propositional equality) as equivalence relation
    for [ExtendRelTermAlgebra], we obtain an equivalent notion
    of equality of term algebra carriers,
    [equiv_path_extend_path_term_algebra]. The reason for introducing
    [ExtendRelTermAlgebra] is to have a notion of equality which
    works well together with induction on term algebras. *)

</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 179
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section extend_path_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 179
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Context `{Funext} {σ} {C : Carriers σ} `{!forall s, IsHSet (C s)}.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 180
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>

  Definition ExtendPathTermAlgebra {s : Sort σ}
    (S : CarriersTermAlgebra C s) (T : CarriersTermAlgebra C s)
    : Type
    := ExtendRelTermAlgebra (fun s =&gt; paths) S T.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 185
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Global Instance reflexive_extend_path_term_algebra
    : forall s : Sort σ, Reflexive (@ExtendPathTermAlgebra s).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 188
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 189
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>
    by apply reflexive_extend_rel_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 190
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 191
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Lemma reflexive_extend_path_term_algebra_path {s : Sort σ}
    {S T : CarriersTermAlgebra C s} (p : S = T)
    : ExtendPathTermAlgebra S T.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 195
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 196
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    induction p.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 197
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply reflexive_extend_path_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 197
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 198
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Global Instance symmetric_extend_path_term_algebra
    : forall s : Sort σ, Symmetric (@ExtendPathTermAlgebra s).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 201
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 202
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply symmetric_extend_rel_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 203
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros s x y.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 203
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply inverse.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 203
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 204
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Global Instance transitive_extend_path_term_algebra
    : forall s : Sort σ, Transitive (@ExtendPathTermAlgebra s).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 207
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 208
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply transitive_extend_rel_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 209
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros s x y z.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 209
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply concat.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 209
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 210
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Global Instance equivrel_extend_path_term_algebra
    : forall s : Sort σ, EquivRel (@ExtendPathTermAlgebra s).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 213
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 214
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    constructor; exact _.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 215
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Qed.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 216
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Global Instance hprop_extend_path_term_algebra (s : Sort σ)
    : is_mere_relation (CarriersTermAlgebra C s) ExtendPathTermAlgebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 219
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 220
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros S T.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 221
Time: 0.041s">
<div class="time" style="width: 38.679245283019%"></div>
<pre> exact _.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 221
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 222
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>

  Lemma dependent_path_extend_path_term_algebra {s1 s2 : Sort σ}
    (S : CarriersTermAlgebra C s1) (T : CarriersTermAlgebra C s2)
    (e : ExtendDRelTermAlgebra (fun s =&gt; paths) S T)
    : {p : s1 = s2 | p # S = T}.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 227
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 228
Time: 0.003s">
<div class="time" style="width: 2.8301886792453%"></div>
<pre>
    generalize dependent s2.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 229
Time: 0.006s">
<div class="time" style="width: 5.6603773584906%"></div>
<pre>
    induction S as [| u c h];
        intros s2 [? d | ? d] e;
        solve [elim e] || destruct e as [p e].</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 232
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 233
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exists p.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 233
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre> by induction p, e.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 233
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 234
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> induction p.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 234
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> exists idpath.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 234
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> cbn.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 234
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre> f_ap.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 234
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> funext a.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 234
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>
      destruct (h a _ (d a) (e a)) as [p q].</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 235
Time: 0.004s">
<div class="time" style="width: 3.7735849056604%"></div>
<pre>
      by induction (hset_path2 idpath p).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 236
Time: 0.002s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 237
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Lemma path_extend_path_term_algebra {s : Sort σ}
    (S T : CarriersTermAlgebra C s) (e : ExtendPathTermAlgebra S T)
    : S = T.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 241
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 242
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    destruct (dependent_path_extend_path_term_algebra S T e) as [p q].</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 243
Time: 0.002s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>
    by induction (hset_path2 idpath p).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 244
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 245
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Global Instance hset_carriers_term_algebra (s : Sort σ)
    : IsHSet (CarriersTermAlgebra C s).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 248
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 249
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply (@ishset_hrel_subpaths _ ExtendPathTermAlgebra).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 250
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 251
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply reflexive_extend_path_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 251
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 252
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply hprop_extend_path_term_algebra; exact _.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 252
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 253
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply path_extend_path_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 253
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 254
Time: 0.004s">
<div class="time" style="width: 3.7735849056604%"></div>
<pre>

  Definition equiv_path_extend_path_term_algebra {s : Sort σ}
    (S T : CarriersTermAlgebra C s)
    : ExtendPathTermAlgebra S T &lt;~&gt; (S = T)
    := equiv_iff_hprop
        (path_extend_path_term_algebra S T)
        reflexive_extend_path_term_algebra_path.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 261
Time: 0.004s">
<div class="time" style="width: 3.7735849056604%"></div>
<pre>

End extend_path_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 263
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** At this point we can define the term algebra. *)

</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 266
Time: 0.005s">
<div class="time" style="width: 4.7169811320755%"></div>
<pre>Definition TermAlgebra `{Funext} {σ : Signature}
  (C : Carriers σ) `{!forall s, IsHSet (C s)}
  : Algebra σ
  := Build_Algebra (CarriersTermAlgebra C) (@ops_term_algebra _ C).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 269
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

Lemma isinj_var_term_algebra {σ} (C : Carriers σ) (s : Sort σ) (x y : C s)
  : var_term_algebra C s x = var_term_algebra C s y -&gt; x = y.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 272
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 273
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro p.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 274
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply reflexive_extend_path_term_algebra_path in p.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 275
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  destruct p as [p1 p2].</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 276
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>
  by destruct (hset_path2 p1 idpath)^.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 277
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Qed.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 278
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>

Lemma isinj_ops_term_algebra `{Funext} {σ} (C : Carriers σ)
  (u : Symbol σ) (a b : DomOperation (CarriersTermAlgebra C) (σ u))
  : ops_term_algebra C u a = ops_term_algebra C u b -&gt; a = b.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 282
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 283
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  intro p.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 284
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply reflexive_extend_path_term_algebra_path in p.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 285
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>
  destruct p as [p1 p2].</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 286
Time: 0.002s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>
  destruct (hset_path2 p1 idpath)^.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 287
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  funext i.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 288
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply path_extend_path_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 289
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  apply p2.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 290
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>
Qed.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 291
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The extension [ExtendRelTermAlgebra R], of a family of mere
    equivalence relations [R], is a congruence. *)

</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 295
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>Global Instance is_congruence_extend_rel_term_algebra
  `{Funext} {σ} (C : Carriers σ) `{!forall s, IsHSet (C s)}
  (R : forall s, Relation (C s)) `{!forall s, EquivRel (R s)}
  `{!forall s, is_mere_relation (C s) (R s)}
  : IsCongruence (TermAlgebra C) (@ExtendRelTermAlgebra σ C R).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 299
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 300
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  constructor.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 301
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 302
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 302
Time: 0.009s">
<div class="time" style="width: 8.4905660377358%"></div>
<pre> exact _.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 302
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 303
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 303
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre> exact _.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 303
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 304
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intros u a b c.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 304
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    exists idpath.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 305
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro i.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 306
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply c.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 307
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>
Defined.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 308
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** Given and family of functions [f : forall s, C s -&gt; A s],
    we can extend it to a [Homomorphism (TermAlgebra C) A],
    as shown in the next section. *)

</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 313
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section hom_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 313
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Context
    `{Funext} {σ} {C : Carriers σ} `{!forall s, IsHSet (C s)}
    (A : Algebra σ) (f : forall s, C s -&gt; A s).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 316
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>

  Definition map_term_algebra {σ} {C : Carriers σ} (A : Algebra σ)
    (f : forall s, C s -&gt; A s) (s : Sort σ) (T : CarriersTermAlgebra C s)
    : A s
    := CarriersTermAlgebra_rec C A f (fun u _ r =&gt; u.#A r) s T.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 321
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>

  Global Instance is_homomorphism_map_term_algebra
    : @IsHomomorphism σ (TermAlgebra C) A (map_term_algebra A f).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 324
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 325
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intros u a.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 326
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> by refine (ap u.#A _).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 326
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>
  Qed.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 327
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>

  Definition hom_term_algebra : Homomorphism (TermAlgebra C) A
    := @Build_Homomorphism σ (TermAlgebra C) A (map_term_algebra A f) _.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 330
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

End hom_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 332
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

(** The next section proves the universal property of the term algebra,
    that [TermAlgebra] is a left adjoint functor

    &gt;&gt;
      {C : Carriers σ | forall s, IsHSet (C s)} -&gt; Algebra σ,
    &lt;&lt;

    with right adjoint the forgetful functor. This is stated below as
    an equivalence

    &gt;&gt;
      Homomorphism (TermAlgebra C) A &lt;~&gt; (forall s, C s -&gt; A s),
    &lt;&lt;

    given by precomposition with
    
    &gt;&gt;
      var_term_algebra C s : C s -&gt; TermAlgebra C s.
    &lt;&lt; *)

</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 353
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Section ump_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 353
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Context
    `{Funext} {σ} (C : Carriers σ) `{forall s, IsHSet (C s)} (A : Algebra σ).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 355
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** By precomposing [Homomorphism (TermAlgebra C) A] with
      [var_term_algebra], we obtain a family [forall s, C s -&gt; A s]. *)

 </pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 360
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>Definition precomp_var_term_algebra (f : Homomorphism (TermAlgebra C) A)
    : forall s, C s -&gt; A s
    := fun s x =&gt; f s (var_term_algebra C s x).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 362
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Lemma path_precomp_var_term_algebra_to_hom_term_algebra
    : forall (f : Homomorphism (TermAlgebra C) A),
      hom_term_algebra A (precomp_var_term_algebra f) = f.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 366
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 367
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro f.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 368
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    apply path_homomorphism.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 369
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    funext s T.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 370
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    induction T as [|u c h].</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 371
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 372
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> reflexivity.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 372
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 373
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> refine (_ @ (is_homomorphism_hom f u c)^).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 373
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
      refine (ap u.#A _).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 374
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> funext i.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 374
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply h.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 374
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 375
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  Lemma path_hom_term_algebra_to_precomp_var_term_algebra
    : forall (f : forall s, C s -&gt; A s),
      precomp_var_term_algebra (hom_term_algebra A f) = f.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 379
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 380
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    intro f.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 381
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> by funext s a.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 381
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 382
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** Precomposition with [var_term_algebra] is an equivalence *)

 </pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 386
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Global Instance isequiv_precomp_var_term_algebra
    : IsEquiv precomp_var_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 387
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 388
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    srapply isequiv_adjointify.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 389
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 390
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply hom_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 390
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 391
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 391
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply path_hom_term_algebra_to_precomp_var_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 391
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
    -</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 392
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> intro.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 392
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre> apply path_precomp_var_term_algebra_to_hom_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 392
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 393
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

  (** The universal property of the term algebra: The [TermAlgebra]
      is a left adjoint functor.
      Notice [isequiv_precomp_var_term_algebra] above. *)

 </pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 399
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>Theorem ump_term_algebra
    : Homomorphism (TermAlgebra C) A &lt;~&gt; (forall s, C s -&gt; A s).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 400
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Proof.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 401
Time: 0.001s">
<div class="time" style="width: 0.94339622641509%"></div>
<pre>
    exact (Build_Equiv _ _ precomp_var_term_algebra _).</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 402
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>
  Defined.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 403
Time: 0.002s">
<div class="time" style="width: 1.8867924528302%"></div>
<pre>

End ump_term_algebra.</pre>
</div>
<div class="code" title="File: TermAlgebra.v
Line: 406
Time: 0s">
<div class="time" style="width: 0%"></div>
<pre>

</pre>
</div>
</body>
</html>

